# Pre Security

## **Introduction to Cyber Security**

Đã có một phần riêng biệt về giới thiệu về an ninh mạng.

## Network Fundamentals

- **Mạng là gì?**
    
    Mạng chỉ đơn giản là những thứ được kết nối. 
    
    Mạng có thể được tìm thấy ở mọi tầng lớp xã hội: hệ thống giao thông công cộng của thành phố, cơ sở hạ tầng như lưới điện quốc gia để cung cấp điện, gặp gỡ và chào hỏi hàng xóm của bạn,…
    
    Nhưng cụ thể hơn, trong điện toán, mạng cũng là ý tưởng tương tự, chỉ phân tán đến các thiết bị công nghệ. Lấy điện thoại của bạn làm ví dụ; lý do mà bạn có nó là để truy cập mọi thứ. Chúng tôi sẽ đề cập đến cách các thiết bị này giao tiếp với nhau và các quy tắc tuân theo.
    
    Trong điện toán, một mạng có thể được hình thành từ bất kỳ đâu từ 2 thiết bị đến hàng tỷ thiết bị. Những thiết bị này bao gồm mọi thứ từ máy tính xách tay và điện thoại của bạn đến camera an ninh, đèn giao thông và thậm chí cả nông nghiệp!
    
    Mạng được tích hợp vào cuộc sống hàng ngày của chúng ta. Có thể là thu thập dữ liệu về thời tiết, cung cấp điện cho các hộ gia đình hoặc thậm chí xác định ai có quyền ưu tiên đi trên đường.
    
    Internet là một mạng khổng lồ bao gồm rất nhiều mạng nhỏ bên trong nó. 
    
    Lần lặp đầu tiên của Internet là trong dự án ARPANET vào cuối những năm 1960. Dự án này được Bộ Quốc phòng Hoa Kỳ tài trợ và là mạng lưới đầu tiên được ghi nhận đang hoạt động. Tuy nhiên , phải đến năm 1989, Internet như chúng ta biết mới được phát minh bởi Tim Berners-Lee bằng việc tạo ra World Wide Web ( WWW **)** . Mãi cho đến thời điểm này, Internet mới bắt đầu được sử dụng như một kho lưu trữ và chia sẻ thông tin giống như ngày nay.
    
     Internet trông giống như một phiên bản lớn hơn nhiều của loại sơ đồ này:
    
    ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled.png)
    
    Như đã nêu trước đây, Internet được tạo thành từ nhiều mạng nhỏ được kết nối với nhau. Những mạng nhỏ này được gọi là mạng riêng, trong đó các mạng kết nối những mạng nhỏ này được gọi là mạng công cộng hoặc Internet! Vì vậy, tóm lại, mạng có thể là một trong hai loại:
    
    - Một mạng riêng
    - Một mạng công cộng
    
    Các thiết bị trên mạng rất giống với con người ở chỗ chúng ta có hai cách nhận dạng:
    
    - Tên của chúng tôi
    - Dấu vân tay của chúng tôi
    
    Bây giờ chúng tôi có thể thay đổi tên của mình thông qua thăm dò chứng thư, tuy nhiên, chúng tôi không thể thay đổi dấu vân tay của mình. Mỗi người đều có một bộ dấu vân tay riêng, điều đó có nghĩa là ngay cả khi họ thay đổi tên, vẫn có danh tính đằng sau nó. Các thiết bị đều có điểm giống nhau: hai phương tiện nhận dạng, trong đó một phương tiện có thể thấm qua. Đó là:
    
    - Địa chỉ IP
    - Địa chỉ Kiểm soát truy cập phương tiện (MAC) hãy coi địa chỉ này tương tự như số sê-ri
    - **IP Addresses**
        
        Địa chỉ IP (hoặc giao thức Internet ) có thể được sử dụng như một cách xác định máy chủ trên mạng trong một khoảng thời gian, trong đó địa chỉ IP đó có thể được liên kết với một thiết bị khác mà không cần thay đổi địa chỉ IP. Trước tiên, hãy phân chia chính xác địa chỉ IP trong sơ đồ bên dưới:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%201.png)
        
        Địa chỉ **IP**  là một tập hợp các số được chia thành bốn octet. Giá trị của mỗi octet sẽ tóm tắt là địa chỉ IP của thiết bị trên mạng. Con số này được tính toán thông qua một kỹ thuật được gọi là địa chỉ IP & mạng con(ip addressing & subnetting). Điều quan trọng cần hiểu ở đây là địa chỉ IP có thể thay đổi từ thiết bị này sang thiết bị khác nhưng không thể hoạt động đồng thời nhiều lần trong cùng một mạng.
        
        Địa chỉ IP tuân theo một bộ tiêu chuẩn được gọi là giao thức. Các giao thức này là xương sống của mạng và buộc nhiều thiết bị giao tiếp bằng cùng một ngôn ngữ, đây là điều chúng ta sẽ đề cập vào lúc khác. Tuy nhiên, chúng ta nên nhớ lại rằng các thiết bị có thể ở cả mạng riêng và mạng công cộng. Tùy thuộc vào vị trí của họ sẽ xác định loại địa chỉ IP họ có: địa chỉ IP công cộng hay riêng tư. 
        
        Địa chỉ công cộng được sử dụng để nhận dạng thiết bị trên Internet, trong khi địa chỉ riêng được sử dụng để nhận dạng thiết bị giữa các thiết bị khác.  Hai thiết bị này sẽ có thể sử dụng địa chỉ IP riêng của mình để liên lạc với nhau. Tuy nhiên, mọi dữ liệu được gửi tới Internet từ một trong hai thiết bị này sẽ được xác định bằng cùng một địa chỉ IP công cộng. Địa chỉ IP công cộng được cung cấp bởi Nhà cung cấp dịch vụ Internet (hoặc ISP) của bạn với mức phí hàng tháng ( hóa đơn của bạn!)
        
        Khi ngày càng có nhiều thiết bị được kết nối, việc có được một địa chỉ công cộng chưa được sử dụng ngày càng trở nên khó khăn hơn. Ví dụ, Cisco, một gã khổng lồ trong ngành về thế giới mạng, ước tính rằng sẽ có khoảng 50 tỷ thiết bị được kết nối trên Internet vào cuối năm 2021. [(Cisco., 2021)](https://www.cisco.com/c/dam/en_us/about/ac79/docs/innov/IoT_IBSG_0411FINAL.pdf) . Nhập các phiên bản địa chỉ IP. Cho đến nay, chúng ta mới chỉ thảo luận về một phiên bản của sơ đồ địa chỉ Giao thức Internet được gọi là IPv4, sử dụng hệ thống đánh số gồm 2^32 địa chỉ IP (4,29 tỷ)
        
        IPv6 là phiên bản mới của sơ đồ đánh địa chỉ Giao thức Internet để giúp giải quyết vấn đề này. Mặc dù nó có vẻ khó khăn hơn nhưng nó có một số lợi ích:
        
        - Hỗ trợ tới 2^128 địa chỉ IP (hơn 340 nghìn tỷ), giải quyết các vấn đề gặp phải với IPv4
        - Hiệu quả hơn nhờ phương pháp mới
        
        Ảnh chụp màn hình bên dưới so sánh cả địa chỉ IPv6 và IPv4.
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%202.png)
        
    - **MAC Addresses**
        
        Các thiết bị trên mạng đều sẽ có giao diện mạng vật lý, đó là một bo mạch vi mạch được tìm thấy trên bo mạch chủ của thiết bị. Giao diện mạng này được gán một địa chỉ duy nhất tại nhà máy nơi nó được xây dựng, được gọi là địa chỉ MAC ( Media Access Control). Địa chỉ MAC là một số thập lục phân gồm 12 ký tự ( *hệ thống đánh số 16 cơ sở được sử dụng trong điện toán để biểu thị các số* ) được chia thành hai số và phân tách bằng dấu hai chấm. Những dấu hai chấm này được coi là dấu phân cách. Ví dụ: *a4:c3:f0:85:ac:2d* . Sáu ký tự đầu tiên đại diện cho công ty tạo ra giao diện mạng và sáu ký tự cuối cùng là một số duy nhất
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%203.png)
        
        Tuy nhiên, một điều thú vị với địa chỉ MAC là chúng có thể bị làm giả hoặc "giả mạo" trong một quá trình được gọi là giả mạo. Việc giả mạo này xảy ra khi một thiết bị nối mạng giả vờ nhận dạng là một thiết bị khác bằng địa chỉ MAC của nó. Khi điều này xảy ra, nó thường có thể phá vỡ các thiết kế bảo mật được triển khai kém vốn cho rằng các thiết bị giao tiếp trên mạng là đáng tin cậy. Hãy xem tình huống sau: Tường lửa được cấu hình để cho phép mọi giao tiếp đến và đi từ địa chỉ MAC của quản trị viên. Nếu một thiết bị giả mạo hoặc "giả mạo" địa chỉ MAC này, tường lửa giờ đây sẽ cho rằng nó đang nhận thông tin liên lạc từ quản trị viên trong khi thực tế không phải vậy.
        
        Các địa điểm như quán cà phê, quán cà phê và khách sạn thường sử dụng tính năng kiểm soát địa chỉ MAC khi sử dụng Wi-Fi "Khách" hoặc "Công cộng" của họ. Cấu hình này có thể cung cấp các dịch vụ tốt hơn, tức là kết nối nhanh hơn với mức giá nếu bạn sẵn sàng trả phí cho mỗi thiết bị. 
        
    - **Ping**
        
        Ping là một trong những công cụ mạng cơ bản nhất hiện có. Ping sử dụng các gói ICMP ( Internet Control Message Protocol) để xác định hiệu suất kết nối giữa các thiết bị
        
        Thời gian để các gói ICMP di chuyển giữa các thiết bị được đo bằng ping. Việc đo này được thực hiện bằng cách sử dụng gói tiếng vang của ICMP và sau đó là phản hồi tiếng vang của ICMP từ thiết bị đích.
        
        Ping có thể được thực hiện với các thiết bị trên mạng, chẳng hạn như mạng gia đình của bạn hoặc các tài nguyên như trang web. Công cụ này có thể dễ dàng sử dụng và được cài đặt trên Hệ điều hành (HĐH) như Linux và Windows. Cú pháp để thực hiện ping đơn giản là`ping IP address or website URL` . Hãy xem điều này hoạt động trong ảnh chụp màn hình bên dưới.
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%204.png)
        
        Ở đây chúng tôi đang ping một thiết bị có địa chỉ riêng là *192.168.1.254* . Ping thông báo cho chúng tôi rằng chúng tôi đã gửi sáu gói ICMP, tất cả đều được nhận với thời gian trung bình là 4,16 giây.
        
- **Mạng LAN(Local Area Network)**
    - Cấu trúc mạng LAN(cục bộ)
        - Phân lại cấu trúc liên kết
            - Cấu trúc liên kết sao
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%205.png)
                
                Các thiết bị được kết nối riêng lẻ thông qua một thiết bị mạng trung tâm như bộ chuyển mạch hoặc trung tâm. Cấu trúc liên kết này được tìm thấy phổ biến nhất hiện nay vì độ tin cậy và khả năng mở rộng của nó - bất chấp chi phí.
                
                Mọi thông tin được gửi đến thiết bị trong cấu trúc liên kết này sẽ được gửi qua thiết bị trung tâm mà nó kết nối. —> các thiết bị này phải thật mạnh mẽ
                
                Ưu điểm :
                
                - Rất dễ dàng thêm nhiều thiết bị hơn khi nhu cầu về mạng tăng lên.
                
                Nhược điểm:
                
                - Vì cần nhiều cáp hơn và mua thiết bị mạng chuyên dụng cho cấu trúc liên kết này nên cấu trúc liên kết này đắt hơn bất kỳ cấu trúc liên kết nào khác
                - Quy mô lớn thì càng cần phải bảo trì nhiều hơn để duy trì hoạt động của mạng
                - Khó khăn khi khắc phục sự cố.
            - Cấu trúc liên kết bus
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%206.png)
                
                Loại kết nối này dựa trên một kết nối duy nhất được gọi là cáp đường trục. 
                
                Ưu điểm: Một trong những cấu trúc liên kết dễ dàng hơn và tiết kiệm chi phí hơn để thiết lập do chi phí của chúng
                
                Nhược điểm :
                
                - Có rất ít dự phòng trong trường hợp có sự cố. Nhược điểm này là do có một điểm lỗi duy nhất dọc theo cáp đường trục. Nếu cáp này bị đứt, các thiết bị sẽ không thể nhận hoặc truyền dữ liệu dọc theo xe buýt nữa.
                - Rất nhanh chóng bị chậm và bị tắc nghẽn nếu các thiết bị trong cấu trúc liên kết đồng thời yêu cầu dữ liệu.
            - Cấu trúc liên kết vòng
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%207.png)
                
                Cấu trúc liên kết vòng (còn được gọi là cấu trúc liên kết mã thông báo) có một số điểm tương đồng. Các thiết bị như máy tính được kết nối trực tiếp với nhau để tạo thành một vòng lặp, nghĩa là cần ít cáp và ít phụ thuộc hơn vào phần cứng chuyên dụng chẳng hạn như trong cấu trúc liên kết hình sao.
                
                Cấu trúc liên kết vòng hoạt động bằng cách gửi dữ liệu qua vòng lặp cho đến khi đến thiết bị đích, sử dụng các thiết bị khác dọc theo vòng lặp để chuyển tiếp dữ liệu. Điều thú vị là một thiết bị sẽ chỉ gửi dữ liệu đã nhận từ một thiết bị khác trong cấu trúc liên kết này nếu thiết bị đó không có dữ liệu nào để tự gửi. Nếu thiết bị có dữ liệu cần gửi, thiết bị sẽ gửi dữ liệu của chính nó trước khi gửi dữ liệu từ thiết bị khác.
                
                Ưu điểm:
                
                - Vì chỉ có một hướng để dữ liệu truyền qua cấu trúc liên kết này nên việc khắc phục mọi lỗi phát sinh là khá dễ dàng Tuy nhiên, đây là con dao hai lưỡi vì đây không phải là cách truyền dữ liệu hiệu quả trên mạng vì nó có thể phải truy cập nhiều thiết bị trước khi đến được thiết bị dự định.
                - Cấu trúc liên kết vòng ít bị tắc nghẽn hơn
                
                Nhược điểm:
                
                - Một lỗi như cắt cáp hoặc thiết bị bị hỏng sẽ dẫn đến toàn bộ mạng bị đứt.
        - Switch
            
            Bộ chuyển mạch là thiết bị chuyên dụng trong mạng được thiết kế để tổng hợp nhiều thiết bị khác như máy tính, máy in hoặc bất kỳ thiết bị có khả năng kết nối mạng nào khác sử dụng ethernet. Các thiết bị khác nhau này cắm vào cổng của switch. Switch thường được tìm thấy trong các mạng lớn hơn như doanh nghiệp, trường học hoặc các mạng có quy mô tương tự, nơi có nhiều thiết bị kết nối vào mạng. Switch có thể kết nối một số lượng lớn thiết bị bằng cách có các cổng 4, 8, 16, 24, 32 và 64 để các thiết bị cắm vào.
            
            Bộ chuyển mạch hiệu quả hơn nhiều so với các bộ chuyển mạch kém hơn (bộ trung tâm/bộ lặp). Công tắc theo dõi thiết bị nào được kết nối với cổng nào. Bằng cách này, khi họ nhận được một gói, thay vì lặp lại gói đó đến mọi cổng như một trung tâm thường làm, nó chỉ gửi gói đó đến mục tiêu đã định, do đó làm giảm lưu lượng mạng.
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%208.png)
            
            Cả Switch và Router đều có thể được kết nối với nhau. Khả năng thực hiện điều này làm tăng tính dự phòng (độ tin cậy) của mạng bằng cách thêm nhiều đường dẫn cho dữ liệu. Nếu một con đường đi xuống, một con đường khác có thể được sử dụng. Mặc dù điều này có thể làm giảm hiệu suất tổng thể của mạng vì các gói phải mất nhiều thời gian hơn để di chuyển nhưng không có thời gian ngừng hoạt động -- một cái giá nhỏ phải trả khi xem xét giải pháp thay thế.
            
            Switch có thể hoạt động ở cả lớp 2 và lớp 3 của mô hình OSI. Tuy nhiên, đây là những điều độc quyền vì các switch Lớp 2 không thể hoạt động ở lớp 3.
            
        - Bộ định tuyến(router)
            
            là kết nối các mạng và truyền dữ liệu giữa chúng. Nó thực hiện điều này bằng cách sử dụng định tuyến
            
            Định tuyến là nhãn được gán cho quá trình dữ liệu truyền qua mạng. Định tuyến liên quan đến việc tạo đường dẫn giữa các mạng để dữ liệu này có thể được phân phối thành công.
            
            Định tuyến là nhãn được gán cho quá trình dữ liệu truyền qua mạng. Định tuyến liên quan đến việc tạo đường dẫn giữa các mạng để dữ liệu này có thể được phân phối thành công. Bộ định tuyến hoạt động ở Lớp 3 của mô hình OSI. Chúng thường có giao diện tương tác (chẳng hạn như trang web hoặc bảng điều khiển) cho phép quản trị viên định cấu hình các quy tắc khác nhau như chuyển tiếp cổng hoặc tường lửa.
            
            Bộ định tuyến là thiết bị chuyên dụng và không thực hiện các chức năng tương tự như bộ chuyển mạch.
            
            Định tuyến rất hữu ích khi các thiết bị được kết nối bằng nhiều đường dẫn, chẳng hạn như trong sơ đồ ví dụ bên dưới.
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%209.png)
            
    - Sơ lược về subnetting(mạng con)
        
        Mạng con là thuật ngữ dùng để chia một mạng thành các mạng thu nhỏ hơn bên trong chính nó. 
        
        Lấy một doanh nghiệp làm ví dụ; Bạn sẽ có các phòng ban khác nhau như:
        
        - Kế toán
        - Tài chính
        - nguồn nhân lực
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2010.png)
        
        Mặc dù bạn biết nơi để gửi thông tin trong cuộc sống thực đến đúng bộ phận nhưng các mạng cũng cần phải biết. Quản trị viên mạng sử dụng mạng con để phân loại và chỉ định các phần cụ thể của mạng nhằm phản ánh điều này.
        
        Việc chia mạng được thực hiện bằng cách chia nhỏ số lượng máy chủ có thể phù hợp trong mạng, được biểu thị bằng một số gọi là mặt nạ mạng con. 
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2011.png)
        
        Như chúng ta có thể nhớ lại, một địa chỉ IP được tạo thành từ bốn phần được gọi là octet. Điều tương tự cũng xảy ra với mặt nạ mạng con cũng được biểu diễn dưới dạng số bốn byte (32 bit), nằm trong khoảng từ 0 đến 255 (0-255).
        
        Mạng con sử dụng địa chỉ IP theo ba cách khác nhau:
        
        - Xác định địa chỉ mạng
        - Xác định địa chỉ máy chủ
        - Xác định cổng mặc định
        
        Hãy chia ba thứ này ra để hiểu mục đích của chúng vào bảng dưới đây:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2012.png)
        
        Network Address: sử dụng để xác định điểm bắt đầu của mạng
        
        Host Address: sử dụng để nhận dạng các thiết bị trong mạng
        
        Default Gateway: dùng để nhận dạng thiết bị chịu trách nhiệm gửi dữ liệu sang mạng khác
        
        Giờ đây, trong các mạng nhỏ như ở nhà, bạn sẽ ở trên một mạng con vì rất khó có khả năng bạn cần nhiều hơn 254 thiết bị được kết nối cùng một lúc.
        
        Tuy nhiên, những nơi như doanh nghiệp và văn phòng sẽ có nhiều thiết bị này hơn (PC, máy in, máy ảnh và cảm biến), nơi diễn ra mạng con.
        
        Việc chia mạng con mang lại nhiều lợi ích, bao gồm:
        
        - Hiệu quả
        - Bảo vệ
        - Kiểm soát hoàn toàn
        
        Chúng ta sẽ tiếp tục khám phá chính xác cách chia mạng con mang lại những lợi ích này như thế nào sau này; tuy nhiên, hiện tại, tất cả những gì chúng ta cần hiểu là yếu tố bảo mật của nó. 
        
        Mạng con cho phép bạn tách biệt hai trường hợp sử dụng này với nhau trong khi vẫn có được lợi ích của việc kết nối với các mạng lớn hơn như Internet
        
    - Giao thức ARP
        
        Giao thức ARP cho phép thiết bị liên kết địa chỉ MAC của nó với địa chỉ IP trên mạng. Mỗi thiết bị trên mạng sẽ lưu giữ nhật ký địa chỉ MAC được liên kết với các thiết bị khác.
        
        Khi các thiết bị muốn liên lạc với thiết bị khác, chúng sẽ gửi một thông báo tới toàn bộ mạng để tìm kiếm thiết bị cụ thể. Các thiết bị có thể sử dụng giao thức ARP để tìm địa chỉ MAC (và do đó là mã định danh vật lý) của thiết bị để liên lạc.
        
        ARP hoạt động 
        
        Mỗi thiết bị trong mạng đều có một sổ cái để lưu trữ thông tin, được gọi là bộ đệm. Trong ngữ cảnh của  giao thức ARP  , bộ đệm này lưu trữ số nhận dạng của các thiết bị khác trên mạng.
        
        Để ánh xạ hai số nhận dạng này với nhau (địa chỉ IP và địa chỉ MAC), giao thức ARP sẽ gửi hai loại tin nhắn:
        
        1. Yêu cầu ARP
        2. Trả lời ARP
        
        Khi một yêu cầu ARP được gửi đi, một tin nhắn sẽ được phát đến mọi thiết bị khác được thiết bị tìm thấy trên mạng, hỏi xem địa chỉ MAC của thiết bị có khớp với địa chỉ IP được yêu cầu hay không. Nếu thiết bị có địa chỉ IP được yêu cầu, phản hồi ARP sẽ được trả về thiết bị ban đầu để xác nhận điều này. Thiết bị ban đầu bây giờ sẽ ghi nhớ điều này và lưu trữ nó trong bộ đệm của nó ( mục nhập ARP ).
        
        Quá trình này được minh họa trong sơ đồ dưới đây:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2013.png)
        
    - Giao thức DHCP
        
        Địa chỉ IP có thể được chỉ định theo cách thủ công, bằng cách nhập chúng vào thiết bị hoặc tự động và phổ biến nhất bằng cách sử dụng máy chủ DHCP ( Giao thức cấu hình máy chủ động ). Khi một thiết bị kết nối với mạng, nếu nó chưa được gán địa chỉ IP theo cách thủ công, nó sẽ gửi yêu cầu ( DHCP Discover) để xem có máy chủ DHCP nào trên mạng hay không. Sau đó, máy chủ DHCP sẽ trả lời lại bằng địa chỉ IP mà thiết bị có thể sử dụng (). Sau đó, thiết bị sẽ gửi phản hồi xác nhận rằng nó muốn Địa chỉ IP được cung cấp (DHCP Request) và cuối cùng, máy chủ DHCP gửi phản hồi xác nhận việc này đã hoàn tất và thiết bị có thể bắt đầu sử dụng Địa chỉ IP (DHCP ACK)
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2014.png)
        
- **Mô hình OSI**
    
    Mô hình **OSI** (hoặc Mô hình kết nối hệ thống Open ) là một mô hình cơ bản tuyệt đối được sử dụng trong mạng. Mô hình quan trọng này cung cấp một khuôn khổ quy định cách tất cả các thiết bị nối mạng sẽ gửi, nhận và giải thích dữ liệu.
    
    Một trong những lợi ích chính của mô hình OSI là các thiết bị có thể có các chức năng và thiết kế khác nhau trên mạng trong khi giao tiếp với các thiết bị khác. Dữ liệu được gửi qua mạng tuân theo tính đồng nhất của mô hình OSI có thể được các thiết bị khác hiểu được.
    
    Mô hình OSI bao gồm bảy lớp được minh họa trong sơ đồ bên dưới. Mỗi lớp có một bộ trách nhiệm khác nhau và được sắp xếp từ Lớp 7 đến Lớp 1.
    
    Ở mỗi lớp riêng lẻ mà dữ liệu di chuyển qua, các quy trình cụ thể sẽ diễn ra và các phần thông tin được thêm vào dữ liệu này. Quá trình này được gọi là đóng gói và mô hình OSI trông như thế nào trong sơ đồ bên dưới:
    
    ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2015.png)
    
    - Layer 7 - Application
        
        Lớp ứng dụng của mô hình OSI là lớp mà bạn quen thuộc nhất. Sự quen thuộc này là do lớp ứng dụng là lớp trong đó có các giao thức và quy tắc để xác định cách người dùng nên tương tác với dữ liệu được gửi hoặc nhận.
        
        Các ứng dụng hàng ngày như ứng dụng email, trình duyệt hoặc phần mềm duyệt máy chủ tệp như FileZilla cung cấp giao diện người dùng (GU ) đồ  họa , thân thiện để người dùng tương tác với dữ liệu được gửi hoặc nhận. Các giao thức khác bao gồm DNS ( Domain Name System), đó là cách địa chỉ trang web được dịch sang địa chỉ IP.
        
    - Layer 6 - Presentation
        
        Lớp 6 của mô hình OSI (lớp trình bày) là lớp bắt đầu diễn ra quá trình tiêu chuẩn hóa. Vì các nhà phát triển phần mềm có thể phát triển bất kỳ phần mềm nào như ứng dụng email theo cách khác nhau nên dữ liệu vẫn cần được xử lý theo cách giống nhau — bất kể phần mềm hoạt động như thế nào.
        
        Lớp này hoạt động như một trình dịch dữ liệu đến và đi từ lớp ứng dụng (lớp 7). Máy tính nhận cũng sẽ hiểu dữ liệu được gửi đến máy tính ở một định dạng được định sẵn ở định dạng khác. Ví dụ: khi bạn gửi email, người dùng khác có thể có một ứng dụng email khác cho bạn nhưng nội dung của email vẫn cần hiển thị như cũ.
        
        Các tính năng bảo mật như mã hóa dữ liệu (như HTTPS khi truy cập một trang web an toàn) diễn ra ở lớp này.
        
    - Layer 5 - Session
        
        Khi dữ liệu đã được dịch hoặc định dạng chính xác từ lớp trình bày (lớp 6), lớp phiên (lớp 5) sẽ bắt đầu tạo kết nối với máy tính khác mà dữ liệu được định sẵn. Khi kết nối được thiết lập, một phiên sẽ được tạo. Trong khi kết nối này đang hoạt động thì phiên cũng vậy.
        
        Lớp phiên (lớp 5) đồng bộ hóa hai máy tính để đảm bảo rằng chúng ở trên cùng một trang trước khi dữ liệu được gửi và nhận. Khi các bước kiểm tra này được thực hiện, lớp phiên sẽ bắt đầu chia dữ liệu được gửi thành các khối dữ liệu nhỏ hơn và bắt đầu gửi từng khối (gói) này một lần. Việc phân chia này có lợi vì nếu mất kết nối, chỉ những phần chưa được gửi sẽ phải được gửi lại - chứ không phải toàn bộ phần dữ liệu (hãy coi việc này giống như tải một tệp lưu trong trò chơi điện tử).
        
        Điều đáng lưu ý là các phiên là duy nhất - nghĩa là dữ liệu không thể di chuyển qua các phiên khác nhau mà trên thực tế, chỉ qua mỗi phiên.
        
    - Layer 4 - Transport
        
        Lớp 4 của mô hình OSI đóng một vai trò quan trọng trong việc truyền dữ liệu qua mạng và có thể hơi khó nắm bắt. Khi dữ liệu được gửi giữa các thiết bị, nó tuân theo một trong hai giao thức khác nhau được quyết định dựa trên một số yếu tố:
        
        - TCP
        - UDP
        
        Hãy bắt đầu với TCP . Giao thức điều khiển truyền tải ( TCP ). Có thể được gợi ý bằng tên, giao thức này được thiết kế với độ tin cậy và sự đảm bảo. Giao thức này bảo lưu kết nối liên tục giữa hai thiết bị trong khoảng thời gian cần thiết để gửi và nhận dữ liệu.
        
        Không chỉ vậy, TCP còn kết hợp việc kiểm tra lỗi vào thiết kế của nó. Kiểm tra lỗi là cách TCP có thể đảm bảo rằng dữ liệu được gửi từ các khối nhỏ trong lớp phiên (lớp 5) sau đó đã được nhận và tập hợp lại theo cùng một thứ tự.
        
        TCP được sử dụng cho các tình huống như chia sẻ tệp, duyệt internet hoặc gửi email. Việc sử dụng này là do các dịch vụ này yêu cầu dữ liệu phải chính xác và đầy đủ (không tốt nếu có một nửa tệp!).
        
        Trong sơ đồ bên dưới, chúng ta có thể thấy hình ảnh một con mèo được chia thành các phần dữ liệu nhỏ (được gọi là gói) từ "máy chủ web", nơi "máy tính" xây dựng lại hình ảnh của con mèo theo đúng thứ tự. .
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2016.png)
        
        Bây giờ chúng ta hãy chuyển sang giao thức User Datagram Pro (gọi tắt  là UDP**).** Giao thức này gần như không tiên tiến bằng giao thức anh em của nó - giao thức TCP . Nó không có nhiều tính năng do TCP cung cấp, chẳng hạn như kiểm tra lỗi và độ tin cậy. Trên thực tế, mọi dữ liệu được gửi qua UDP đều được gửi đến máy tính cho dù nó có đến đó hay không. Không có sự đồng bộ hóa giữa hai thiết bị hoặc đảm bảo; chỉ hy vọng điều tốt nhất và ngón tay đan chéo.
        
        Sử dụng ví dụ tương tự như trước, bây giờ chúng ta có thể thấy rằng chỉ có Gói số 1 và Số 3 được "Máy tính" nhận được, nghĩa là một nửa hình ảnh bị thiếu.
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2017.png)
        
        UDP rất hữu ích trong trường hợp có những mẩu dữ liệu nhỏ được gửi đi. Ví dụ: các giao thức được sử dụng để khám phá các thiết bị ( *ARP* và *DHCP)* hoặc các tệp lớn hơn như phát trực tuyến video (trong đó một số phần của video bị pixel hóa là được. Pixel chỉ là những phần bị mất của dữ liệu!)
        
    - Layer 3 - Network
        
        Lớp thứ ba của mô hình OSI (lớp mạng) là nơi diễn ra sự kỳ diệu của việc định tuyến và tập hợp lại dữ liệu (từ những phần nhỏ này đến phần lớn hơn). Đầu tiên, định tuyến chỉ đơn giản là xác định đường dẫn tối ưu nhất mà các khối dữ liệu này sẽ được gửi.
        
        Trong khi một số giao thức ở lớp này xác định chính xác đâu là đường dẫn "tối ưu" mà dữ liệu phải đi để đến thiết bị, chúng ta chỉ nên biết về sự tồn tại của chúng ở giai đoạn này của mô-đun mạng. Tóm lại, các giao thức này bao gồm OSPF ( Open Shortest Path First ) và RIP ( Routing Infomation Protocol ). Các yếu tố quyết định tuyến đường nào được chọn được quyết định bởi những yếu tố sau:
        
        - Con đường nào là ngắn nhất? Tức là có số lượng thiết bị ít nhất mà gói cần truyền qua.
        - Con đường nào là đáng tin cậy nhất? Tức là trước đây có gói tin nào bị mất trên đường dẫn đó không?
        - Đường dẫn nào có kết nối vật lý nhanh hơn? Tức là một đường dẫn sử dụng kết nối đồng (chậm hơn) hay cáp quang (nhanh hơn đáng kể)?
        
        Ở lớp này, mọi thứ được xử lý thông qua các địa chỉ IP như 192.168.1.100. Các thiết bị như bộ định tuyến có khả năng phân phối gói bằng địa chỉ IP được gọi là thiết bị Lớp 3 - vì chúng có khả năng hoạt động ở lớp thứ ba của mô hình OSI
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2018.png)
        
    - Layer 2 - Data Link
        
        Lớp liên kết dữ liệu tập trung vào việc đánh địa chỉ vật lý của đường truyền. Nó nhận một gói từ lớp mạng (bao gồm địa chỉ IP cho máy tính từ xa) và thêm địa chỉ **MAC** vật lý ( M media Access Control)  của điểm cuối nhận. Bên trong mỗi máy tính có kết nối mạng đều có Thẻ **giao diện mạng**  **(** NIC **)** đi kèm với một địa chỉ MAC duy nhất để nhận dạng nó. 
        
        Địa chỉ MAC được nhà sản xuất đặt và ghi vào thẻ theo đúng nghĩa đen; chúng không thể thay đổi được -- mặc dù chúng có thể bị giả mạo. Khi thông tin được gửi qua mạng, thực tế địa chỉ vật lý được sử dụng để xác định chính xác nơi gửi thông tin.
        
        Ngoài ra, nhiệm vụ của lớp liên kết dữ liệu là trình bày dữ liệu ở định dạng phù hợp để truyền tải.
        
    - Layer 1 - Physical
        
        Lớp này là một trong những lớp dễ nắm bắt nhất. Nói một cách đơn giản, lớp này tham chiếu đến các thành phần vật lý của phần cứng được sử dụng trong mạng và là lớp thấp nhất mà bạn sẽ tìm thấy. Các thiết bị sử dụng tín hiệu điện để truyền dữ liệu lẫn nhau trong hệ thống đánh số nhị phân (1 và 0).
        
        Ví dụ: cáp ethernet kết nối các thiết bị
        
- **Packets & Frames**
    - Packets & Frames là gì
        
        Các gói và khung là những phần dữ liệu nhỏ mà khi kết hợp với nhau sẽ tạo thành một phần thông tin hoặc tin nhắn lớn hơn. Tuy nhiên, chúng là hai thứ khác nhau trong mô hình OSI. Khung nằm ở lớp 2 - lớp liên kết dữ liệu, nghĩa là không có thông tin nào như địa chỉ IP. Hãy coi điều này giống như việc đặt một phong bì vào trong một phong bì và gửi nó đi. Phong bì đầu tiên sẽ là gói tin bạn gửi đi, nhưng khi mở phong bì bên trong vẫn tồn tại và chứa dữ liệu (đây là một khung).
        
        Quá trình này được gọi là đóng gói mà chúng ta đã thảo luận ở [phần 3: mô hình OSI](https://tryhackme.com/room/osimodelzi) . Ở giai đoạn này, có thể giả định rằng khi chúng ta nói về bất kỳ địa chỉ IP nào, chúng ta đang nói về các gói. Khi thông tin đóng gói bị loại bỏ, chúng ta đang nói về chính khung đó.
        
        Các gói là một cách hiệu quả để truyền dữ liệu qua các thiết bị nối mạng, chẳng hạn như những gì được giải thích trong Nhiệm vụ 1. Vì dữ liệu này được trao đổi thành từng phần nhỏ nên ít có khả năng xảy ra tắc nghẽn trên mạng hơn so với các tin nhắn lớn được gửi cùng một lúc.
        
        Ví dụ: khi tải một hình ảnh từ một trang web, hình ảnh này không được gửi toàn bộ đến máy tính của bạn mà là những phần nhỏ nơi nó được tái tạo trên máy tính của bạn. Lấy hình ảnh dưới đây làm minh họa cho quá trình này. Hình ảnh của con mèo được chia thành ba gói, nơi nó được tái tạo lại khi đến máy tính để tạo thành hình ảnh cuối cùng.
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2016.png)
        
        Các gói có cấu trúc khác nhau phụ thuộc vào loại gói được gửi. Như chúng ta sẽ tiếp tục thảo luận, mạng có đầy đủ các tiêu chuẩn và giao thức hoạt động như một bộ quy tắc về cách xử lý gói trên thiết bị. Với việc Internet được dự đoán sẽ có khoảng 50 tỷ thiết bị được kết nối vào cuối năm 2020, mọi thứ sẽ nhanh chóng vượt quá tầm kiểm soát nếu không có tiêu chuẩn hóa.
        
        Hãy tiếp tục với ví dụ của chúng ta về Giao thức Internet. Gói sử dụng giao thức này sẽ có một tập hợp các tiêu đề chứa các phần thông tin bổ sung cho dữ liệu đang được gửi qua mạng.
        
        Một số tiêu đề đáng chú ý bao gồm:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2019.png)
        
    - TCP/IP (Bắt tay 3 bước)
        
        **TCP**  (hay  gọi tắt là Giao thức điều khiển truyền  tải )  là một trong những quy tắc khác được sử dụng trong mạng.
        
        Giao thức này rất giống với mô hình OSI mà chúng ta đã thảo luận trước đây trong phần ba của mô-đun này. Giao thức TCP/IP bao gồm bốn lớp và được cho là chỉ là phiên bản tóm tắt của mô hình OSI. Các lớp này là: ứng dụng, chuyên chở, internet, giao diện mạng
        
        Rất giống với cách hoạt động của mô hình OSI, thông tin được thêm vào từng lớp của mô hình TCP khi phần dữ liệu (hoặc gói) đi qua nó. Như bạn có thể nhớ lại, quá trình này được gọi là đóng gói - trong đó mặt trái của quá trình này là giải mã.
        
        Một đặc điểm nổi bật của TCP là nó  ****dựa trên kết nối , có nghĩa là TCP phải thiết lập kết nối giữa cả máy khách và thiết bị hoạt động như máy chủ  trước khi  dữ liệu được gửi.
        
        Vì điều này, TCP đảm bảo rằng mọi dữ liệu được gửi sẽ được nhận ở đầu bên kia. Quá trình này được gọi là Bắt tay ba bước.Ưu nhược điểm của TCP
        
        Ưu điểm:
        
        - Đảm bảo tính toàn vẹn của dữ liệu.
        - Có khả năng đồng bộ hóa hai thiết bị để tránh tình trạng tràn ngập dữ liệu không đúng thứ tự.
        - Thực hiện nhiều quy trình hơn để đảm bảo độ tin cậy
        
        Nhược điểm: 
        
        - Yêu cầu kết nối đáng tin cậy giữa hai thiết bị. Nếu không nhận được một đoạn dữ liệu nhỏ thì toàn bộ đoạn dữ liệu đó sẽ không thể được sử dụng và phải được gửi lại.
        - Kết nối chậm có thể làm tắc nghẽn thiết bị khác vì kết nối sẽ luôn được bảo lưu trên thiết bị kia
        - TCP chậm hơn đáng kể so với UDP vì các thiết bị sử dụng giao thức này phải thực hiện nhiều công việc (tính toán) hơn
        
        Các header
        
        - Source Port(cổng nguồn): Giá trị này là cổng được người gửi mở để gửi gói TCP từ đó. Giá trị này được chọn ngẫu nhiên (trong số các cổng từ 0-65535 chưa được sử dụng vào thời điểm đó).
        - Destination Port(cổng đích): Giá trị này là số cổng mà một ứng dụng hoặc dịch vụ đang chạy trên máy chủ từ xa (máy chủ nhận dữ liệu); ví dụ: máy chủ web chạy trên cổng 80. Không giống như cổng nguồn, giá trị này không được chọn ngẫu nhiên.
        - Source IP(ip nguồn):Đây là địa chỉ IP của thiết bị đang gửi gói.
        - Destination IP(ip đích):Đây là địa chỉ IP của thiết bị mà gói tin được gửi đến.
        - Sequence Number(stt):Khi kết nối xảy ra, phần dữ liệu đầu tiên được truyền sẽ được đánh số ngẫu nhiên.
        - Acknowledgement Number(số xác nhận):Sau khi một phần dữ liệu được đánh số thứ tự, số của phần dữ liệu tiếp theo sẽ có số thứ tự + 1.
        - Checksum: Giá trị này mang lại tính toàn vẹn cho TCP . Một phép tính toán học được thực hiện khi đầu ra được ghi nhớ. Khi thiết bị nhận thực hiện phép tính toán, dữ liệu phải bị hỏng nếu đầu ra khác với dữ liệu được gửi.
        - Data: nơi lưu trữ dữ liệu, tức là byte của tệp đang được truyền.
        - Flag(cờ): xác định cách xử lý gói tin bởi một trong hai thiết bị trong quá trình bắt tay. Các cờ cụ thể sẽ xác định các hành vi cụ thể
        
        Bắt tay ba bước giao tiếp bằng cách sử dụng một vài thông điệp đặc biệt - bảng dưới đây nêu bật những thông điệp chính:
        
        - SYN:Tin nhắn SYN là gói đầu tiên được khách hàng gửi trong quá trình bắt tay. Gói này được sử dụng để bắt đầu kết nối và đồng bộ hóa hai thiết bị với nhau.
        - SYN/ACK :Gói này được gửi bởi thiết bị nhận (máy chủ) để xác nhận nỗ lực đồng bộ hóa từ máy khách.
        - ACK:Máy khách hoặc máy chủ có thể sử dụng gói xác nhận để xác nhận rằng một loạt tin nhắn/gói đã được nhận thành công.
        - DATA: Khi kết nối đã được thiết lập, dữ liệu (chẳng hạn như byte của tệp) sẽ được gửi qua thông báo "DATA".
        - FIN:Gói này được sử dụng để đóng kết nối *một cách rõ ràng (đúng cách)* sau khi hoàn tất.
        - RST: Gói tin này đột ngột kết thúc mọi liên lạc. Đây là biện pháp cuối cùng và cho thấy đã xảy ra một số vấn đề trong quá trình này. Ví dụ: nếu dịch vụ hoặc ứng dụng không hoạt động chính xác hoặc hệ thống gặp lỗi như thiếu tài nguyên.
        
        Sơ đồ thế hiện quy trình bắt tay 3 bước:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2020.png)
        
        Mọi dữ liệu đã gửi đều được cung cấp một chuỗi số ngẫu nhiên và được xây dựng lại bằng cách sử dụng chuỗi số này và tăng dần thêm 1. Cả hai máy tính phải đồng ý về cùng một chuỗi số để dữ liệu được gửi theo đúng thứ tự. Lệnh này được thống nhất qua ba bước:
        
        - **Bước 1**: Máy chủ A khởi tạo kết nối bằng cách gửi gói TCP SYN đến máy chủ đích. Gói chứa số thứ tự ngẫu nhiên (ví dụ: SYN = 5432 ) đánh dấu sự bắt đầu của số thứ tự cho dữ liệu mà Máy chủ A sẽ truyền.
        - **Bước 2**: Máy chủ nhận gói và phản hồi bằng số thứ tự của chính nó. Phản hồi cũng bao gồm số xác nhận, là số thứ tự của Máy chủ A được tăng thêm 1 (Ví dụ như: SYN=6051; ACK=5433 ).
        - **Bước 3**: Máy chủ A xác nhận phản hồi của Máy chủ bằng cách gửi số xác nhận, là số thứ tự của Máy chủ tăng thêm 1. (Ví dụ ACK= 6052)
        
        Sơ đồ đóng kết nối:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2021.png)
        
        1. Ứng dụng từ máy khách muốn đóng kết nối sẽ gửi Segment TCP có cờ FIN (Hoàn thành) được đặt thành 1.
        2. Máy chủ nhận được segment TCP và xác nhận nó bằng segment ACK.
        3. Máy chủ gửi segment TCP của riêng nó với cờ FIN được đặt thành 1 cho máy khách để chấm dứt kết nối.
        4. Máy khách xác nhận segment FIN của máy chủ và đóng kết nối.
    - UDP/IP
        
        User Datagram  Protocol ( UDP ) là  một giao thức khác được sử dụng để giao tiếp dữ liệu giữa các thiết bị.
        
        Không giống như người anh em TCP , UDP là  giao thức không trạng thái  , không yêu cầu kết nối liên tục giữa hai thiết bị để gửi dữ liệu. Ví dụ: Quá trình bắt tay ba chiều không xảy ra và cũng không có bất kỳ sự đồng bộ hóa nào giữa hai thiết bị.
        
         Dưới đây là bảng so sánh ưu điểm và nhược điểm của UDP:
        
        Ưu điểm: 
        
        - UDP nhanh hơn nhiều so với TCP
        - UDP rời khỏi ứng dụng (phần mềm người dùng) để quyết định xem có bất kỳ quyền kiểm soát nào đối với tốc độ gửi gói tin hay không.
        - UDP không dành riêng kết nối liên tục trên thiết bị như TCP.
        - Nó khá linh hoạt đối với các nhà phát triển phần mềm
        
        Nhược điểm:
        
        - UDP không quan tâm liệu dữ liệu có được nhận hay không
        - Kết nối không ổn định sẽ mang lại trải nghiệm tồi tệ cho người dùng.
        
        Các header: không có các header như : Sequence Number(stt),Acknowledgement Number,Checksum  còn lại thì giống TCP
        
        có thêm header Time to Live (TTL)(Thời gian sống ):Trường này đặt bộ hẹn giờ hết hạn cho gói, do đó, nó không làm tắc nghẽn mạng của bạn nếu nó không bao giờ tiếp cận được máy chủ hoặc thoát ra!
        
        UDP là **không trạng thái** . Không có xác nhận nào được gửi trong khi kết nối.
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2022.png)
        
    - Port 101
        
        Có lẽ được đặt tên một cách thích hợp, các cổng là một điểm thiết yếu để trao đổi dữ liệu. Hãy nghĩ về một bến cảng và bến cảng. Tàu muốn cập bến cảng sẽ phải đến cảng phù hợp với kích thước và cơ sở vật chất bố trí trên tàu. Khi tàu xếp hàng sẽ cập vào một  cảng  tại bến cảng. Lấy ví dụ, một tàu du lịch không thể cập cảng dành cho tàu đánh cá và ngược lại.
        
        Các cổng này thực thi những gì có thể đỗ và ở đâu — nếu không tương thích, nó không thể đỗ ở đây. Các thiết bị mạng cũng sử dụng cổng để thực thi các quy tắc nghiêm ngặt khi liên lạc với nhau. Khi kết nối được thiết lập (gọi lại từ phòng của mô hình OSI), mọi dữ liệu được thiết bị gửi hoặc nhận sẽ được gửi qua các cổng này. Trong điện toán, cổng là một giá trị số từ  **0**  đến  **65535**  (65,535).
        
        Bởi vì các cổng có thể nằm trong khoảng từ 0-65535 nên sẽ nhanh chóng có nguy cơ mất dấu ứng dụng nào đang sử dụng cổng nào. Một bến cảng bận rộn là hỗn loạn! Rất may, chúng tôi liên kết các ứng dụng, phần mềm và hành vi với một bộ quy tắc tiêu chuẩn. Ví dụ: bằng cách buộc mọi dữ liệu trình duyệt web phải được gửi qua cổng 80, nhà phát triển phần mềm có thể thiết kế một trình duyệt web như Google Chrome hoặc Firefox để diễn giải dữ liệu theo cách giống nhau.
        
        Điều này có nghĩa là tất cả các trình duyệt web hiện nay đều có chung một quy tắc: dữ liệu được gửi qua cổng 80. Giao diện, cảm nhận và mức độ dễ sử dụng của trình duyệt tùy thuộc vào quyết định của người thiết kế hoặc người dùng.
        
        Trong khi quy tắc chuẩn cho dữ liệu web là  *cổng 80* , một số giao thức khác đã được phân bổ quy tắc chuẩn. Bất kỳ cổng nào nằm trong khoảng  **0**  và  **1024**  (1.024) đều được gọi là cổng chung. Hãy cùng khám phá một số giao thức khác dưới đây:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2023.png)
        
- **Extending Your Network**
    - Introduction to Port Forwarding
        
        Chuyển tiếp cổng là một thành phần thiết yếu trong việc kết nối các ứng dụng và dịch vụ với Internet. Nếu không chuyển tiếp cổng, các ứng dụng và dịch vụ như máy chủ web chỉ khả dụng với các thiết bị trong cùng một mạng trực tiếp.
        
        Lấy mạng dưới đây làm ví dụ. Trong mạng này, máy chủ có địa chỉ IP "192.168.1.10" chạy máy chủ web trên cổng 80. Chỉ hai máy tính khác trên mạng này mới có thể truy cập vào nó (điều này được gọi là mạng nội bộ).
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2024.png)
        
        Nếu quản trị viên muốn công chúng có thể truy cập trang web (sử dụng Internet), họ sẽ phải triển khai chuyển tiếp cổng, như trong sơ đồ bên dưới:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2025.png)
        
        Với thiết kế này, Mạng số 2 giờ đây sẽ có thể truy cập máy chủ web chạy trên Mạng số 1 bằng địa chỉ IP công cộng của Mạng số 1 (82.62.51.70).
        
        Rất dễ nhầm lẫn việc chuyển tiếp cổng với hoạt động của tường lửa (một công nghệ mà chúng ta sẽ thảo luận trong phần sau). Tuy nhiên, ở giai đoạn này, chỉ cần hiểu rằng việc chuyển tiếp cổng sẽ mở các cổng cụ thể (nhớ lại cách hoạt động của các gói). Để so sánh, tường lửa xác định xem lưu lượng truy cập có thể đi qua các cổng này hay không (ngay cả khi các cổng này được mở bằng cách chuyển tiếp cổng).
        
        Chuyển tiếp cổng được cấu hình tại bộ định tuyến của mạng.
        
    - Firewalls 101
        
        Tường lửa là một thiết bị trong mạng chịu trách nhiệm xác định lưu lượng nào được phép vào và ra. Hãy coi tường lửa như một biện pháp bảo mật biên giới cho mạng. Quản trị viên có thể định cấu hình tường lửa để  cho phép  hoặc  từ chối  lưu lượng truy cập vào hoặc ra khỏi mạng dựa trên nhiều yếu tố như:
        
        - Lưu lượng truy cập đến từ đâu? (tường lửa có được yêu cầu chấp nhận/từ chối lưu lượng truy cập từ một mạng cụ thể không?)
        - Giao thông sẽ đi đến đâu? (tường lửa có được yêu cầu chấp nhận/từ chối lưu lượng truy cập dành cho một mạng cụ thể không?)
        - Giao thông dành cho cổng nào? (tường lửa có được yêu cầu chấp nhận/từ chối lưu lượng truy cập chỉ dành cho cổng 80 không?)
        - Giao thức nào được sử dụng? (tường lửa đã được yêu cầu chấp nhận/từ chối lưu lượng truy cập là UDP, TCP hay cả hai chưa?)
        
        Tường lửa thực hiện kiểm tra gói để xác định câu trả lời cho những câu hỏi này.
        
        Tường lửa có đủ hình dạng và kích cỡ. Từ các phần cứng chuyên dụng (thường thấy trong các mạng lớn như doanh nghiệp) có thể xử lý lượng lớn dữ liệu đến bộ định tuyến dân dụng (như ở nhà bạn!) hoặc phần mềm như [Snort](https://www.snort.org/) , tường lửa có thể được phân loại thành 2 đến 5 loại.
        
        Tường lửa 
        
        - có trạng thái(Stateful): (kiểm tra toàn bộ)
            - Loại tường lửa này sử dụng toàn bộ thông tin từ một kết nối; thay vì kiểm tra từng gói riêng lẻ, tường lửa này xác định hoạt động của thiết bị dựa trên toàn bộ kết nối .
            - Loại tường lửa này tiêu tốn nhiều tài nguyên so với tường lửa không trạng thái vì việc ra quyết định rất linh hoạt. Ví dụ: tường lửa có thể cho phép các phần đầu tiên của quá trình bắt tay TCP mà sau đó sẽ không thành công.
            - Nếu kết nối từ máy chủ kém, nó sẽ chặn toàn bộ thiết bị.
        - ko có trạng thái(Stateless):(kiểm tra riêng lẻ)
            - Loại tường lửa này sử dụng một bộ quy tắc tĩnh để xác định xem các gói riêng lẻ có được chấp nhận hay không. Ví dụ: một thiết bị gửi một gói xấu không nhất thiết có nghĩa là toàn bộ thiết bị sẽ bị chặn.
            - Mặc dù các tường lửa này sử dụng ít tài nguyên hơn nhiều so với các giải pháp thay thế nhưng chúng lại ngu ngốc hơn nhiều. Ví dụ: những tường lửa này chỉ có hiệu quả khi có các quy tắc được xác định bên trong chúng. Nếu một quy tắc không được khớp chính xác thì nó thực sự vô dụng.
            - Tuy nhiên, những tường lửa này rất hiệu quả khi nhận được lượng lớn lưu lượng truy cập từ một nhóm máy chủ (chẳng hạn như cuộc tấn công từ chối dịch vụ phân tán)
    - VPN Basics
        
        Mạng **riêng ảo** (hay gọi tắt là **VPN**) là công nghệ cho phép các thiết bị trên các mạng riêng biệt giao tiếp an toàn bằng cách tạo một đường dẫn dành riêng cho nhau qua Internet (được gọi là đường hầm). Các thiết bị được kết nối trong đường hầm này tạo thành mạng riêng của chúng.
        
        Ví dụ: chỉ các thiết bị trong cùng một mạng (chẳng hạn như trong doanh nghiệp) mới có thể liên lạc trực tiếp. Tuy nhiên, VPN cho phép hai văn phòng được kết nối. Hãy xem sơ đồ bên dưới, trong đó có ba mạng:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2026.png)
        
        1. Mạng số 1 (Văn phòng số 1)
        2. Mạng số 2 (Văn phòng số 2)
        3. Mạng số 3 (Hai thiết bị được kết nối qua VPN)
        
        Các thiết bị được kết nối trên Mạng số 3 vẫn là một phần của Mạng số 1 và Mạng số 2 nhưng cũng kết hợp với nhau để tạo một mạng riêng (Mạng số 3) mà chỉ các thiết bị được kết nối qua VPN này mới có thể giao tiếp.
        
        Lợi ích:
        
        - Cho phép kết nối các mạng ở các vị trí địa lý khác nhau.  vd: các tài nguyên như máy chủ/cơ sở hạ tầng có thể được truy cập từ một văn phòng khác
        - Cung cấp sự riêng tư:
            - Công nghệ VPN sử dụng mã hóa để bảo vệ dữ liệu. Điều này có nghĩa là nó chỉ có thể được hiểu giữa các thiết bị mà nó được gửi đi và được gửi đến, nghĩa là dữ liệu không dễ bị đánh cắp.
            - Mã hóa này hữu ích ở những nơi có WiFi công cộng, nơi mạng không cung cấp mã hóa. Bạn có thể sử dụng VPN để bảo vệ lưu lượng truy cập của mình khỏi bị người khác xem.
        - Cung cấp sự ẩn danh:
            - Các nhà báo và nhà hoạt động phụ thuộc vào VPN để đưa tin một cách an toàn về các vấn đề toàn cầu ở những quốc gia nơi quyền tự do ngôn luận bị kiểm soát.
            - Thông thường, ISP của bạn và các bên trung gian khác có thể xem lưu lượng truy cập của bạn và do đó được theo dõi.
            - Mức độ ẩn danh mà VPN cung cấp chỉ bằng mức độ tôn trọng quyền riêng tư của các thiết bị khác trên mạng. Ví dụ: VPN ghi lại tất cả dữ liệu/lịch sử của bạn về cơ bản giống như việc không sử dụng VPN về mặt này
        
        Một số công nghệ VPN
        
        - PPP:
            - Công nghệ này được PPTP sử dụng  để cho phép xác thực và cung cấp mã hóa dữ liệu.
            - VPN hoạt động bằng cách sử dụng khóa riêng và chứng chỉ chung (tương tự như **SSH** ). Khóa riêng và chứng chỉ phải phù hợp để bạn kết nối.
            - Công nghệ này không có khả năng tự rời khỏi mạng (không thể định tuyến).
        - PPTP
            - là công nghệ cho phép dữ liệu từ PPP di chuyển và rời khỏi mạng.
            - PPTP rất dễ cài đặt và được hầu hết các thiết bị hỗ trợ. Tuy nhiên, nó được mã hóa yếu so với các lựa chọn thay thế.
        - IPSec
            - mã hóa dữ liệu bằng cách sử dụng khung giao thức **Giao** thức **Internet** ( **IP** ) hiện có.
            - IPSec khó thiết lập so với các giải pháp thay thế; tuy nhiên, nếu thành công, nó có khả năng mã hóa mạnh mẽ và cũng được hỗ trợ trên nhiều thiết bị.
    - LAN Networking Devices
        
        Đã được đề cập nhiều ở phần trước
        

## How The Web Works

- **DNS**
    
    DNS (Domain Name System) cung cấp một cách đơn giản để chúng ta giao tiếp với các thiết bị trên internet mà không cần ghi nhớ các số phức.Mỗi máy tính trên internet đều có một địa chỉ duy nhất để liên lạc với nó được gọi là địa chỉ IP. Địa chỉ IP trông giống như 104.26.10.229 sau đây , gồm 4 bộ chữ số từ 0 - 255 cách nhau bằng dấu chấm. Khi bạn muốn truy cập một trang web, việc ghi nhớ bộ số phức tạp này sẽ không thực sự thuận tiện và đó là lúc DNS có thể trợ giúp. Vì vậy, thay vì nhớ 104.26.10.229, bạn có thể nhớ tryhackme.com
    
    - Hệ thống phân cấp tên miền
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2027.png)
        
        - **TLD (Tên miền cấp cao nhất)**
            
            TLD là phần bên phải nhất của tên miền. Vì vậy, ví dụ: TLD tryhackme.com là **.com** . Có hai loại TLD, gTLD (Cấp cao nhất chung) và ccTLD (Tên miền cấp cao nhất theo mã quốc gia).Về mặt lịch sử, gTLD có mục đích cho người dùng biết mục đích của tên miền; ví dụ: .com sẽ dành cho mục đích thương mại, .org dành cho tổ chức, .edu dành cho giáo dục và .gov dành cho chính phủ. Và ccTLD đã được sử dụng cho mục đích địa lý, ví dụ: .ca cho các trang web có trụ sở tại Canada, .co.uk cho các trang web có trụ sở tại Vương quốc Anh, v.v. Do nhu cầu như vậy, có rất nhiều gTLD mới, từ .online , .club , .website , .biz và nhiều tên miền khác. Để có danh sách đầy đủ hơn 2000 TLD [hãy nhấp vào đây](https://data.iana.org/TLD/tlds-alpha-by-domain.txt) .
            
        - **Tên miền cấp hai**
            
            Lấy tryhackme.com làm ví dụ, phần .com là TLD và tryhackme là Tên miền cấp hai. Khi đăng ký tên miền, tên miền cấp 2 bị giới hạn 63 ký tự + TLD và chỉ được sử dụng az 0-9 và dấu gạch nối (không được bắt đầu hoặc kết thúc bằng dấu gạch nối hoặc có dấu gạch nối liên tiếp).
            
        - **Tên miền phụ**
            
            Miền phụ nằm ở phía bên trái của Miền cấp hai bằng cách sử dụng dấu chấm để phân tách miền đó; ví dụ: trong tên admin.tryhackme.com phần quản trị là tên miền phụ. Tên miền phụ có các hạn chế tạo giống như Tên miền cấp hai, bị giới hạn ở 63 ký tự và chỉ có thể sử dụng az 0-9 và dấu gạch nối (không thể bắt đầu hoặc kết thúc bằng dấu gạch nối hoặc có dấu gạch nối liên tiếp). Bạn có thể sử dụng nhiều tên miền phụ được phân chia bằng dấu chấm để tạo tên dài hơn, chẳng hạn như jupiter.servers.tryhackme.com. Nhưng độ dài phải được giữ ở mức 253 ký tự trở xuống. Không có giới hạn về số lượng tên miền phụ bạn có thể tạo cho tên miền của mình.
            
    - **Các loại bản ghi DNS**
        
        Tuy nhiên, DNS không chỉ dành cho các trang web và tồn tại nhiều loại bản ghi DNS. Chúng ta sẽ điểm qua một số vấn đề phổ biến nhất mà bạn có thể gặp phải.
        
        - **Bản ghi A:** Các bản ghi này phân giải thành địa chỉ IPv4, ví dụ 104.26.10.229
        - **Bản ghi AAAA:** Các bản ghi này phân giải thành địa chỉ IPv6, ví dụ 2606:4700:20::681a:be5
        - **Bản ghi CNAME:** Các bản ghi này phân giải thành một tên miền khác, ví dụ: cửa hàng trực tuyến của TryHackMe có tên miền phụ store.tryhackme.com sẽ trả về bản ghi CNAME là shop.shopify.com. Sau đó, một yêu cầu DNS khác sẽ được gửi tới shop.shopify.com để tìm ra địa chỉ IP.
        - **Bản ghi MX:** Các bản ghi này phân giải thành địa chỉ của máy chủ xử lý email cho miền bạn đang truy vấn, ví dụ: phản hồi bản ghi MX cho tryhackme.com sẽ trông giống như alt1.aspmx.l.google.com . Những hồ sơ này cũng đi kèm với một lá cờ ưu tiên. Điều này cho khách hàng biết thứ tự thử máy chủ, điều này hoàn hảo nếu máy chủ chính gặp sự cố và email cần được gửi đến máy chủ dự phòng.
        - **Bản ghi TXT:** Bản ghi TXT là các trường văn bản miễn phí, nơi có thể lưu trữ mọi dữ liệu dựa trên văn bản. Bản ghi TXT có nhiều mục đích sử dụng nhưng một số mục đích phổ biến có thể là liệt kê các máy chủ có quyền gửi email thay mặt cho miền (điều này có thể giúp ích trong cuộc chiến chống thư rác và email giả mạo). Chúng cũng có thể được sử dụng để xác minh quyền sở hữu tên miền khi đăng ký dịch vụ của bên thứ ba.
        
        Có thể tìm thêm thông tin với : nslookup —type=*loại bản ghi + tên miền*
        
    - **Khi thực hiện yêu cầu**
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2028.png)
        
        1. Khi bạn yêu cầu một tên miền, trước tiên máy tính của bạn sẽ kiểm tra bộ đệm cục bộ của nó để xem liệu gần đây bạn có tra cứu địa chỉ đó hay không; nếu không, yêu cầu tới Recursive DNS Server của bạn sẽ được thực hiện.
        2. Recursive DNS Server thường được cung cấp bởi ISP của bạn, nhưng bạn cũng có thể chọn máy chủ DNS của riêng mình. Máy chủ này cũng có bộ đệm cục bộ của các tên miền được tra cứu gần đây. Nếu một kết quả được tìm thấy cục bộ, kết quả này sẽ được gửi trở lại máy tính của bạn và yêu cầu của bạn kết thúc tại đây (điều này thường xảy ra đối với các dịch vụ phổ biến và được yêu cầu nhiều như Google, Facebook, Twitter). Nếu không thể tìm thấy yêu cầu cục bộ, một hành trình sẽ bắt đầu tìm câu trả lời chính xác, bắt đầu từ Root DNS Server của internet.
        3. Các Root DNS Server hoạt động như xương sống DNS của Internet; công việc của họ là chuyển hướng bạn đến đúng Máy chủ miền cấp cao nhất, tùy thuộc vào yêu cầu của bạn. Ví dụ: nếu bạn yêu cầu [www.tryhackme.com](http://www.tryhackme.com/) , máy chủ gốc sẽ nhận ra Tên miền cấp cao nhất của .com và giới thiệu bạn đến đúng máy chủ TLD xử lý các địa chỉ .com.
        4. Máy chủ TLD lưu giữ các bản ghi về nơi tìm Authoritative DNS Server để trả lời yêu cầu DNS . Authoritative DNS Server thường còn được gọi là máy chủ tên cho miền. Ví dụ: máy chủ định danh cho [tryhackme.com](http://tryhackme.com/) là [kip.ns.cloudflare.com](http://kip.ns.cloudflare.com/) và [uma.ns.cloudflare.com](http://uma.ns.cloudflare.com/) . Bạn sẽ thường tìm thấy nhiều máy chủ tên để một tên miền hoạt động như một bản sao lưu trong trường hợp một tên miền bị hỏng.
        5. Authoritative DNS Server là máy chủ chịu trách nhiệm lưu trữ các bản ghi DNS cho một tên miền cụ thể và là nơi thực hiện mọi cập nhật đối với bản ghi DNS tên miền của bạn. Tùy thuộc vào loại bản ghi, bản ghi DNS sau đó sẽ được gửi trở lại Recursive DNS Server, nơi một bản sao cục bộ sẽ được lưu vào bộ đệm cho các yêu cầu trong tương lai và sau đó được chuyển tiếp trở lại máy khách ban đầu đã thực hiện yêu cầu. Tất cả các bản ghi DNS đều có giá trị TTL (Thời gian tồn tại). Giá trị này là một số được biểu thị bằng giây mà phản hồi sẽ được lưu cục bộ cho đến khi bạn phải tra cứu lại. Bộ nhớ đệm giúp tiết kiệm việc phải thực hiện yêu cầu DNS mỗi khi bạn liên lạc với máy chủ.
- **HTTP**
    
    **Khái niệm**
    
    HTTP là thứ được sử dụng bất cứ khi nào bạn xem một trang web, được phát triển bởi Tim Berners-Lee và nhóm của ông trong khoảng thời gian 1989-1991. HTTP là bộ quy tắc được sử dụng để liên lạc với máy chủ web nhằm truyền dữ liệu trang web, cho dù đó là HTML, Hình ảnh, Video, v.v.
    
    HTTPS là phiên bản bảo mật của HTTP. Dữ liệu HTTPS được mã hóa nên không chỉ ngăn mọi người nhìn thấy dữ liệu bạn đang nhận và gửi mà còn mang đến cho bạn sự đảm bảo rằng bạn đang nói chuyện với đúng máy chủ web chứ không phải thứ gì đó mạo danh nó.
    
    - Requests And Responses
        
        Khi chúng tôi truy cập một trang web, trình duyệt của bạn sẽ cần gửi yêu cầu tới máy chủ web về các nội dung như HTML, Hình ảnh và tải xuống các phản hồi. Trước đó, bạn cần cho trình duyệt biết cụ thể cách thức và nơi truy cập các tài nguyên này, đây là nơi URL sẽ trợ giúp.
        
        URL là gì? (Uniform Resource Locator)
        
        Nếu bạn đã sử dụng Internet thì trước đây bạn đã từng sử dụng URL. URL chủ yếu là hướng dẫn về cách truy cập tài nguyên trên internet. Hình ảnh bên dưới cho thấy một URL trông như thế nào với tất cả các tính năng của nó (nó không sử dụng tất cả các tính năng trong mọi yêu cầu)
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2029.png)
        
        - **Lược đồ:** Hướng dẫn này sử dụng giao thức nào để truy cập tài nguyên, chẳng hạn như HTTP , HTTPS, FTP (Giao thức truyền tệp).
        - **Người dùng:** Một số dịch vụ yêu cầu xác thực để đăng nhập, bạn có thể nhập tên người dùng và mật khẩu vào URL để đăng nhập.
        - **Máy chủ:** Tên miền hoặc địa chỉ IP của máy chủ bạn muốn truy cập.
        - **Cổng:** Cổng mà bạn định kết nối, thường là 80 cho HTTP và 443 cho HTTPS, nhưng cổng này có thể được lưu trữ trên bất kỳ cổng nào trong khoảng từ 1 - 65535.
        - **Đường dẫn:** Tên tệp hoặc vị trí của tài nguyên bạn đang cố truy cập.
        - **Chuỗi truy vấn:** Các bit thông tin bổ sung có thể được gửi đến đường dẫn được yêu cầu. Ví dụ: /blog? **id=1** sẽ cho đường dẫn blog biết rằng bạn muốn nhận bài viết blog có id là 1.
        - **Đoạn:** Đây là tham chiếu đến một vị trí trên trang thực tế được yêu cầu. Điều này thường được sử dụng cho các trang có nội dung dài và có thể có một phần nhất định của trang được liên kết trực tiếp với nó, do đó người dùng có thể xem được ngay khi họ truy cập trang.
        
        **Making a Request**
        
        Có thể gửi yêu cầu tới máy chủ web chỉ bằng một dòng " **GET / HTTP/1.1** "
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2030.png)
        
        Tuy nhiên, để có trải nghiệm web phong phú hơn nhiều, bạn cũng cần gửi dữ liệu khác. Dữ liệu khác này được gửi trong phần được gọi là tiêu đề, trong đó tiêu đề chứa thông tin bổ sung để cung cấp cho máy chủ web mà bạn đang liên lạc nhưng chúng ta sẽ tìm hiểu sâu hơn về vấn đề này trong tác vụ Tiêu đề.
        
        **Yêu cầu ví dụ:**
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2031.png)
        
        **Dòng 1:** Yêu cầu này đang gửi phương thức GET (thông tin thêm về điều này trong tác vụ Phương thức HTTP ), yêu cầu trang chủ có / và thông báo cho máy chủ web rằng chúng tôi đang sử dụng giao thức HTTP phiên bản 1.1.
        
        **Dòng 2:** Chúng tôi nói với máy chủ web rằng chúng tôi muốn trang web tryhackme.com
        
        **Dòng 3:** Chúng tôi thông báo với máy chủ web rằng chúng tôi đang sử dụng Trình duyệt Firefox phiên bản 87
        
        **Dòng 4:** Chúng tôi đang thông báo cho máy chủ web rằng trang web đã giới thiệu chúng tôi đến trang này là [https://tryhackme.com](https://tryhackme.com/)
        
        **Dòng 5: Yêu cầu** HTTP luôn kết thúc bằng một dòng trống để thông báo cho máy chủ web rằng yêu cầu đã kết thúc.
        
        **Phản hồi mẫu:**
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2032.png)
        
        **Dòng 1:** HTTP 1.1 là phiên bản của giao thức HTTP mà máy chủ đang sử dụng, sau đó là Mã trạng thái HTTP trong trường hợp này là "200 Ok" cho chúng tôi biết yêu cầu đã hoàn tất thành công.
        
        **Dòng 2: Dòng** này cho chúng ta biết phần mềm máy chủ web và số phiên bản.
        
        **Dòng 3:** Ngày, giờ và múi giờ hiện tại của máy chủ web.
        
        **Dòng 4:** Tiêu đề Content-Type cho khách hàng biết loại thông tin nào sẽ được gửi, chẳng hạn như HTML, hình ảnh, video, pdf, XML .
        
        **Dòng 5:** Độ dài nội dung cho khách hàng biết thời gian phản hồi là bao lâu, bằng cách này, chúng tôi có thể xác nhận không có dữ liệu nào bị thiếu.
        
        **Dòng 6: Phản hồi** HTTP chứa một dòng trống để xác nhận việc kết thúc phản hồi HTTP.
        
        **Dòng 7-14:** Thông tin đã được yêu cầu, trong trường hợp này là trang chủ.
        
    - HTTP Methods
        
        là cách để khách hàng thể hiện hành động dự định của mình khi thực hiện yêu cầu HTTP. Có rất nhiều phương thức HTTP nhưng chúng tôi sẽ đề cập đến những phương thức phổ biến nhất, mặc dù phần lớn bạn sẽ xử lý phương thức GET và POST.
        
        - Get Request: điều này được sử dụng để lấy thông tin từ một máy chủ web.
        - Post Request: điều này được sử dụng để gửi dữ liệu đến máy chủ web và có khả năng tạo bản ghi mới
        - Put Request: điều này được sử dụng để gửi dữ liệu đến máy chủ web để cập nhật thông tin
        - Delete Request: điều này được sử dụng để xóa thông tin/bản ghi khỏi máy chủ web.
    - HTTP Status Codes
        
        Các mã trạng thái này có thể được chia thành 5 phạm vi khác nhau:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2033.png)
        
        **Mã trạng thái HTTP phổ biến :**
        
        Có rất nhiều mã trạng thái HTTP khác nhau và điều đó chưa bao gồm thực tế là các ứng dụng thậm chí có thể tự xác định mã trạng thái của chúng, chúng ta sẽ xem xét các phản hồi HTTP phổ biến nhất mà bạn có thể gặp:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2034.png)
        
    - Headers
        
        Tiêu đề là các bit dữ liệu bổ sung mà bạn có thể gửi đến máy chủ web khi thực hiện yêu cầu.
        
        Mặc dù không có tiêu đề nào được yêu cầu nghiêm ngặt khi thực hiện yêu cầu HTTP nhưng bạn sẽ khó xem được trang web một cách chính xác.
        
        **Common Request Headers**
        
        Đây là những tiêu đề được gửi từ máy khách (thường là trình duyệt của bạn) đến máy chủ.
        
        - **Host:** Một số máy chủ web lưu trữ nhiều trang web nên bằng cách cung cấp tiêu đề máy chủ, bạn có thể cho biết bạn yêu cầu trang web nào, nếu không, bạn sẽ chỉ nhận được trang web mặc định cho máy chủ.
        - **User-Agent:** Đây là phần mềm trình duyệt và số phiên bản của bạn, cho máy chủ web biết phần mềm trình duyệt của bạn giúp nó định dạng trang web phù hợp với trình duyệt của bạn và một số thành phần HTML, JavaScript và CSS chỉ khả dụng trong một số trình duyệt nhất định.
        - **Content-length:** Khi gửi dữ liệu đến máy chủ web chẳng hạn như trong biểu mẫu, độ dài nội dung sẽ cho máy chủ web biết lượng dữ liệu mong đợi trong yêu cầu web. Bằng cách này, máy chủ có thể đảm bảo rằng nó không thiếu bất kỳ dữ liệu nào.
        - **Accept-Encoding:** Cho máy chủ web biết loại phương pháp nén nào được trình duyệt hỗ trợ để dữ liệu có thể được thu nhỏ lại để truyền qua internet.
        - **Cookie:** Dữ liệu được gửi đến máy chủ để giúp ghi nhớ thông tin của bạn (xem tác vụ cookie để biết thêm thông tin).
        
        **Common Response Headers**
        
        Đây là những tiêu đề được máy chủ trả về cho máy khách sau khi có yêu cầu.
        
        - **Set-Cookie:** Thông tin cần lưu trữ sẽ được gửi trở lại máy chủ web theo mỗi yêu cầu (xem tác vụ cookie để biết thêm thông tin).
        - **Cache-control:** Thời gian lưu trữ nội dung phản hồi trong bộ đệm của trình duyệt trước khi nó yêu cầu lại.
        - **Content-Type:** điều này cho khách hàng biết loại dữ liệu nào đang được trả về, tức là HTML, CSS, JavaScript, Hình ảnh, PDF, Video, v.v. Khi sử dụng tiêu đề loại nội dung, trình duyệt sẽ biết cách xử lý dữ liệu.
        - **Content-Encoding:** Phương pháp nào đã được sử dụng để nén dữ liệu để làm cho dữ liệu nhỏ hơn khi gửi qua internet.
    - Cookies
        
        Cookie được lưu khi bạn nhận được tiêu đề "Đặt cookie" từ máy chủ web. Sau đó, mỗi yêu cầu tiếp theo bạn thực hiện, bạn sẽ gửi dữ liệu cookie trở lại máy chủ web. Vì HTTP không có trạng thái (không theo dõi các yêu cầu trước đó của bạn), cookie có thể được sử dụng để nhắc nhở máy chủ web bạn là ai, một số cài đặt cá nhân cho trang web hoặc liệu bạn đã từng truy cập trang web đó trước đây hay chưa. Chúng ta hãy xem đây là một ví dụ về yêu cầu HTTP:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2035.png)
        
        Cookie có thể được sử dụng cho nhiều mục đích nhưng được sử dụng phổ biến nhất để xác thực trang web. Giá trị cookie thường không phải là một chuỗi văn bản rõ ràng nơi bạn có thể nhìn thấy mật khẩu mà là một mã thông báo (mã bí mật duy nhất mà con người không dễ dàng đoán được
        
- **Web work**
    
    Khi bạn truy cập một trang web, trình duyệt của bạn ( *như Safari hoặc Google Chrome* ) sẽ đưa ra yêu cầu tới máy chủ web để yêu cầu thông tin về trang bạn đang truy cập. Nó sẽ phản hồi bằng dữ liệu mà trình duyệt của bạn sử dụng để hiển thị trang cho bạn; máy chủ web chỉ là một máy tính chuyên dụng ở một nơi khác trên thế giới xử lý các yêu cầu của bạn.
    
    ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2036.png)
    
    Có hai thành phần chính tạo nên một trang web:
    
    1. Front end (Phía máy khách) - cách trình duyệt của bạn hiển thị trang web.
    2. Back End (Phía máy chủ) - máy chủ xử lý yêu cầu của bạn và trả về phản hồi.
    
    Có nhiều quy trình khác liên quan đến việc trình duyệt của bạn đưa ra yêu cầu tới máy chủ web, nhưng hiện tại, bạn chỉ cần hiểu rằng bạn đưa ra yêu cầu tới máy chủ và nó sẽ phản hồi bằng dữ liệu mà trình duyệt của bạn sử dụng để hiển thị thông tin cho bạn.
    
    - HTML
        
        lên w3school học để hiểu sâu hơn
        
    - JavaScriptl
        
        lên w3school học để hiểu sâu hơn
        
    - Sensitive Data Exposure
        
        mở mã nguồn lộ thông tin quan trọng
        
    - HTML Injection
        
        HTML Insert là một lỗ hổng xảy ra khi dữ liệu đầu vào của người dùng chưa được lọc được hiển thị trên trang. Nếu một trang web không vệ sinh được dữ liệu đầu vào của người dùng (lọc mọi văn bản "độc hại" mà người dùng nhập vào trang web) và dữ liệu đầu vào đó được sử dụng trên trang, thì kẻ tấn công có thể đưa mã HTML vào một trang web dễ bị tấn công.
        
        Việc vệ sinh đầu vào rất quan trọng trong việc giữ an toàn cho trang web vì thông tin người dùng nhập vào trang web thường được sử dụng trong các chức năng giao diện người dùng và phụ trợ khác. Một lỗ hổng bảo mật mà bạn sẽ khám phá trong một phòng thí nghiệm khác là việc chèn cơ sở dữ liệu, nơi bạn có thể thao tác một truy vấn tra cứu cơ sở dữ liệu để đăng nhập với tư cách một người dùng khác bằng cách kiểm soát dữ liệu đầu vào được sử dụng trực tiếp trong truy vấn - nhưng bây giờ, hãy tập trung vào việc chèn HTML (đó là phía khách hàng).
        
        Khi người dùng có quyền kiểm soát cách hiển thị đầu vào của họ, họ có thể gửi mã HTML (hoặc JavaScript) và trình duyệt sẽ sử dụng mã đó trên trang, cho phép người dùng kiểm soát giao diện và chức năng của trang.
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2037.png)
        
        Hình ảnh trên cho thấy cách một biểu mẫu xuất văn bản ra trang. Bất cứ điều gì người dùng nhập vào trường "Tên bạn là gì" đều được chuyển đến hàm JavaScript và xuất ra trang, điều đó có nghĩa là nếu người dùng thêm HTML hoặc JavaScript của riêng họ vào trường, thì nó sẽ được sử dụng trong hàm sayHi và được thêm vào trang - điều này có nghĩa là bạn có thể thêm HTML của riêng mình (chẳng hạn như thẻ <h1>) và nó sẽ xuất dữ liệu đầu vào của bạn dưới dạng HTML thuần túy.
        
        Nguyên tắc chung là không bao giờ tin tưởng vào đầu vào của người dùng. Để ngăn chặn dữ liệu đầu vào độc hại, nhà phát triển trang web phải vệ sinh mọi thứ người dùng nhập trước khi sử dụng nó trong hàm JavaScript; trong trường hợp này, nhà phát triển có thể xóa bất kỳ thẻ HTML nào.
        
        —> đơn giản là chèn thẻ a, button,.. có đính link web hacker để nạn nhân nhấp vào
        
- **Putting it all together**
    
    Khi bạn yêu cầu một trang web, máy tính của bạn cần biết địa chỉ IP của máy chủ mà nó cần liên lạc; để làm điều này, nó sử dụng DNS . Sau đó, máy tính của bạn sẽ giao tiếp với máy chủ web bằng cách sử dụng một bộ lệnh đặc biệt gọi là giao thức HTTP; Sau đó, máy chủ web trả về HTML, JavaScript, CSS, Hình ảnh, v.v. mà trình duyệt của bạn sau đó sẽ sử dụng để định dạng chính xác và hiển thị trang web cho bạn.
    
    ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2038.png)
    
    - Các thành phần khác
        - Cân bằng tải
            
            Khi lưu lượng truy cập của trang web bắt đầu trở nên khá lớn hoặc đang chạy một ứng dụng cần có tính sẵn sàng cao, một máy chủ web có thể không thực hiện được công việc đó nữa. Bộ cân bằng tải cung cấp hai tính năng chính, đảm bảo các trang web có lưu lượng truy cập cao có thể xử lý tải và cung cấp khả năng chuyển đổi dự phòng nếu máy chủ không phản hồi.
            
            Khi bạn yêu cầu một trang web có bộ cân bằng tải, bộ cân bằng tải sẽ nhận được yêu cầu của bạn trước rồi chuyển tiếp yêu cầu đó đến một trong nhiều máy chủ phía sau yêu cầu đó. Bộ cân bằng tải sử dụng các thuật toán khác nhau để giúp nó quyết định máy chủ nào là tốt nhất để xử lý yêu cầu. Một vài ví dụ về các thuật toán này là thuật toán  **round-robin** , gửi nó lần lượt đến từng máy chủ hoặc có  **trọng số** , để kiểm tra xem máy chủ hiện đang xử lý bao nhiêu yêu cầu và gửi nó đến máy chủ ít bận rộn nhất.
            
            Bộ cân bằng tải cũng thực hiện kiểm tra định kỳ với từng máy chủ để đảm bảo chúng hoạt động chính xác; đây được gọi là  **kiểm tra sức khỏe** . Nếu máy chủ không phản hồi phù hợp hoặc không phản hồi, bộ cân bằng tải sẽ ngừng gửi lưu lượng truy cập cho đến khi nó phản hồi phù hợp trở lại
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2039.png)
            
        - CDN (Mạng phân phối nội dung)
            
            CDN có thể là một nguồn tài nguyên tuyệt vời để cắt giảm lưu lượng truy cập vào một trang web có lượng truy cập lớn. Nó cho phép bạn lưu trữ các tệp tĩnh từ trang web của mình, chẳng hạn như JavaScript, CSS, Hình ảnh, Video và lưu trữ chúng trên hàng nghìn máy chủ trên toàn thế giới. Khi người dùng yêu cầu một trong các tệp được lưu trữ trên máy chủ, CDN sẽ tìm ra vị trí thực tế của máy chủ gần nhất và gửi yêu cầu đến đó thay vì có thể là bên kia thế giới.
            
        - Database
            
            Thông thường các trang web sẽ cần một cách lưu trữ thông tin cho người dùng của họ. Máy chủ web có thể giao tiếp với cơ sở dữ liệu để lưu trữ và gọi lại dữ liệu từ chúng. Cơ sở dữ liệu có thể bao gồm từ một tệp văn bản đơn giản đến các cụm phức tạp gồm nhiều máy chủ cung cấp tốc độ và khả năng phục hồi. Bạn sẽ gặp một số cơ sở dữ liệu phổ biến: MySQL, MSSQL, MongoDB, GraphQL, Postgres, v.v. mỗi cái đều có những đặc điểm riêng.
            
        - WAF ( Tường lửa ứng dụng web )
            
            WAF nằm giữa yêu cầu web của bạn và máy chủ web; mục đích chính của nó là bảo vệ máy chủ web khỏi bị hack hoặc tấn công từ chối dịch vụ. Nó phân tích các yêu cầu web về các kỹ thuật tấn công phổ biến, cho dù yêu cầu đó đến từ trình duyệt thực chứ không phải từ bot. Nó cũng kiểm tra xem có gửi quá nhiều yêu cầu web hay không bằng cách sử dụng một thứ gọi là giới hạn tốc độ, điều này sẽ chỉ cho phép một lượng yêu cầu nhất định từ một IP mỗi giây. Nếu một yêu cầu được coi là có khả năng bị tấn công, nó sẽ bị loại bỏ và không bao giờ được gửi đến máy chủ web.
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2040.png)
            
    - Web works
        
        Máy chủ web là một phần mềm lắng nghe các kết nối đến và sau đó sử dụng giao thức HTTP để cung cấp nội dung web cho khách hàng. Phần mềm máy chủ web phổ biến nhất mà bạn sẽ gặp là Apache, Nginx, IIS và NodeJS. Máy chủ Web cung cấp các tệp từ thư mục gốc được xác định trong cài đặt phần mềm. Ví dụ: Nginx và Apache chia sẻ cùng một vị trí mặc định của /var/www/html trong hệ điều hành Linux và IIS sử dụng C:\inetpub\wwwroot cho hệ điều hành Windows. Vì vậy, ví dụ: nếu bạn yêu cầu tệp  [http://www.example.com/picture.jpg](http://www.example.com/picture.jpg) , nó sẽ gửi tệp /var/www/html/picture.jpg từ ổ cứng cục bộ của nó.
        
        - **Virtual Hosts**
            
            Máy chủ web có thể lưu trữ nhiều trang web với các tên miền khác nhau; để đạt được điều này, họ sử dụng máy chủ ảo. Phần mềm máy chủ web kiểm tra tên máy chủ được yêu cầu từ tiêu đề HTTP và khớp với tên máy chủ ảo của nó (máy chủ ảo chỉ là các tệp cấu hình dựa trên văn bản). Nếu tìm thấy kết quả phù hợp, trang web chính xác sẽ được cung cấp. Nếu không tìm thấy kết quả phù hợp, trang web mặc định sẽ được cung cấp thay thế.
            
            Máy chủ ảo có thể ánh xạ thư mục gốc của chúng tới các vị trí khác nhau trên ổ cứng. Ví dụ: [one.com](http://one.com/) được ánh xạ tới /var/www/website_one và [two.com](http://two.com/) được ánh xạ tới /var/www/website_two
            
            Không có giới hạn về số lượng trang web khác nhau mà bạn có thể lưu trữ trên một máy chủ web.
            
        - **Nội dung tĩnh và động**
            
            Nội dung tĩnh, đúng như tên gọi, là nội dung không bao giờ thay đổi. Các ví dụ phổ biến về điều này là hình ảnh, javascript, CSS, v.v. nhưng cũng có thể bao gồm HTML không bao giờ thay đổi. Hơn nữa, đây là những tệp được cung cấp trực tiếp từ máy chủ web mà không có thay đổi nào được thực hiện đối với chúng.
            
            Mặt khác, nội dung động là nội dung có thể thay đổi theo các yêu cầu khác nhau. Lấy ví dụ, một blog. Trên trang chủ của blog sẽ hiển thị cho bạn những bài viết mới nhất. Nếu một mục mới được tạo thì trang chủ sẽ được cập nhật với mục mới nhất hoặc ví dụ thứ hai có thể là trang tìm kiếm trên blog. Tùy thuộc vào từ bạn tìm kiếm, các kết quả khác nhau sẽ được hiển thị.
            
            Những thay đổi này đối với những gì bạn thấy được thực hiện trong cái được gọi là  **Phần cuối**  với việc sử dụng ngôn ngữ lập trình và tập lệnh. Nó được gọi là Phần cuối vì những gì đang được thực hiện đều được thực hiện ở hậu trường. Bạn không thể xem nguồn HTML của trang web và xem điều gì đang xảy ra trong Phần cuối, trong khi HTML là kết quả của quá trình xử lý từ Phần cuối. Mọi thứ bạn thấy trong trình duyệt của mình đều được gọi là  **Frontend.**
            
        - **Ngôn ngữ kịch bản và phụ trợ**
            
            Không có nhiều giới hạn đối với những gì ngôn ngữ phụ trợ có thể đạt được và đây là những điều khiến trang web trở nên tương tác với người dùng. Một số ví dụ về các ngôn ngữ này (không theo thứ tự cụ thể nào :p) là
            
            PHP
            
            , Python, Ruby, NodeJS, Perl và nhiều ngôn ngữ khác. Những ngôn ngữ này có thể tương tác với cơ sở dữ liệu, gọi các dịch vụ bên ngoài, xử lý dữ liệu từ người dùng, v.v. Một ví dụ PHP rất cơ bản về điều này sẽ là nếu bạn yêu cầu trang web
            
            [http://example.com/index.php?name=adam](http://example.com/index.php?name=adam)
            
            Nếu index.php được xây dựng như thế này:
            
            `<html><body>Hello **<?php** echo $_GET["name"]; **?>**</body></html>`
            
            Nó sẽ xuất ra thông tin sau cho khách hàng:
            
            `<html><body>Hello adam</body></html>`
            
            Bạn sẽ nhận thấy rằng máy khách không thấy bất kỳ mã PHP nào vì nó nằm ở  **Phần cuối** . Tính tương tác này mở ra nhiều vấn đề bảo mật hơn cho các ứng dụng web chưa được tạo một cách an toàn khi bạn tìm hiểu trong các mô-đun tiếp theo.
            
        
        Trình tự hoạt động:
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2041.png)
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2042.png)
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2043.png)
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2044.png)
        

Dưới đây là trình tự hoạt động chi tiết của website khi bạn truy cập vào trang web [tryhackme.com](http://tryhackme.com/):

1. Bạn gõ "[tryhackme.com](http://tryhackme.com/)" vào trình duyệt web của bạn và nhấn Enter.
2. Trình duyệt của bạn sẽ trước tiên kiểm tra xem có IP của trang web này đã được lưu trong bộ nhớ cache cục bộ không. Nếu có, nó sẽ sử dụng IP đó để tiếp tục truy cập trang web mà không cần thực hiện các bước sau.
3. Nếu không có trong cache cục bộ, trình duyệt sẽ gửi một yêu cầu đến máy chủ DNS (Domain Name System) của bạn để lấy địa chỉ IP của trang web [tryhackme.com](http://tryhackme.com/). Địa chỉ IP này sẽ giúp trình duyệt kết nối đến máy chủ web chứa nội dung của trang web.
4. Máy chủ DNS sẽ trả về địa chỉ IP của máy chủ DNS chủ quản (authoritative DNS server) cho trang web [tryhackme.com](http://tryhackme.com/).
5. Trình duyệt sẽ tiếp tục gửi một yêu cầu đến máy chủ DNS chủ quản để lấy địa chỉ IP của trang web [tryhackme.com](http://tryhackme.com/).
6. Máy chủ DNS chủ quản sẽ trả về địa chỉ IP của trang web [tryhackme.com](http://tryhackme.com/) cho trình duyệt.
7. Yêu cầu sẽ đi qua một Firewall Ứng dụng Web (Web Application Firewall) để kiểm tra và bảo vệ trang web khỏi các cuộc tấn công mạng.
8. Yêu cầu cũng sẽ đi qua một Trình cân bằng tải (Load Balancer) để phân phối tải và tối ưu hóa hiệu suất của các máy chủ web.
9. Trình duyệt của bạn sẽ kết nối đến máy chủ web của trang web [tryhackme.com](http://tryhackme.com/) thông qua cổng 80 hoặc 443 (tùy thuộc vào việc sử dụng giao thức HTTP hoặc HTTPS).
10. Máy chủ web nhận yêu cầu GET từ trình duyệt của bạn.
11. Ứng dụng web trên máy chủ web sẽ tương tác với cơ sở dữ liệu để lấy dữ liệu cần thiết.
12. Dữ liệu được trả về từ cơ sở dữ liệu sẽ được máy chủ web sắp xếp và biên dịch thành mã HTML.
13. Trình duyệt của bạn sẽ nhận và hiển thị mã HTML này, biến nó thành một trang web có thể xem được.

## Linux Fundamentals

Linux  là một thuật ngữ chung cho nhiều hệ điều hành dựa trên UNIX (một hệ điều hành khác). Nhờ UNIX là mã nguồn mở, các biến thể của Linux có đủ hình dạng và kích cỡ - phù hợp nhất với mục đích sử dụng của hệ thống.

Ví dụ: Ubuntu & Debian là một số bản phân phối phổ biến hơn của Linux vì nó có khả năng mở rộng rất cao. Bạn có thể chạy Ubuntu dưới dạng máy chủ (chẳng hạn như trang web và ứng dụng web) hoặc dưới dạng máy tính để bàn hoàn chỉnh. 

*Ubuntu Server có thể chạy trên các hệ thống chỉ có 512MB RAM*

Hạt nhân hệ điều hành được phát hành lần đầu tiên vào ngày 17 tháng 9 năm **1991**, bởi Linus Torvalds.

## **1 số lệnh trong linux**

- Whoami : Hiển thị tên người dùng
- echo “nôi  dung”: Hiển thị kí thự chuỗi,..
- ls: liệt kê các thư mục,file hiện tại
- cd: thay đổi thư mục hiện tại
- pwd: xác định đường dẫn thư mục hiện tại
- cat: xem nội dụng thư mục(còn có thể tạo, viết vào thư mục,…)
- find: tìm kiếm file, thư mục
- grep: tìm kiếm nội dung trong tệp
- wc : đếm số dòng, từ, kí tự file
- man: cung cấp tài liệu muốn đọc
- touch: tạo tệp tin
- mikdir: tạo thư mục
- rm: xóa file và thư mục(rm -r)
- cp: copy file thư mục
- mv: di chuyển file thư mục
- file: xác định loại tệp
- history: xem lịch sử đã gõ kể từ khi bắt đầu phiên
- su: chuyển đổi giữa người dùng
- 

![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2045.png)

ssh username@remote_host

## **file system**

### **1. / - Root**

Đúng với tên gọi của mình: nút gốc (root) đây là nơi bắt đầu của tất cả các file và thư mục. Chỉ có root user mới có quyền ghi trong thư mục này. Chú ý rằng /root là thư mục home của root user chứ không phải là /.

### **2. /bin - Chương trình của người dùng**

Thư mục này chứa các chương trình thực thi. Các chương trình chung của Linux được sử dụng bởi tất cả người dùng được lưu ở đây. Ví dụ như: ps, ls, ping...

### **3. /sbin - Chương trình hệ thống**

Cũng giống như /bin, /sbinn cũng chứa các chương trình thực thi, nhưng chúng là những chương trình của admin, dành cho việc bảo trì hệ thống. Ví dụ như: reboot, fdisk, iptables...

### **4. /etc - Các file cấu hình**

Thư mục này chứa các file cấu hình của các chương trình, đồng thời nó còn chứa các shell script dùng để khởi động hoặc tắt các chương trình khác. Ví dụ: /etc/resolv.conf, /etc/logrolate.conf

### **5. /dev - Các file thiết bị**

Các phân vùng ổ cứng, thiết bị ngoại vi như USB, ổ đĩa cắm ngoài, hay bất cứ thiết bị nào gắn kèm vào hệ thống đều được lưu ở đây. Ví dụ: /dev/sdb1 là tên của USB bạn vừa cắm vào máy, để mở được USB này bạn cần sử dụng lệnh mount với quyền root: # mount /dev/sdb1 /tmp

### **6. /tmp - Các file tạm**

Thư mục này chứa các file tạm thời được tạo bởi hệ thống và các người dùng. Các file lưu trong thư mục này sẽ bị xóa khi hệ thống khởi động lại.

### **7. /proc - Thông tin về các tiến trình**

Thông tin về các tiến trình đang chạy sẽ được lưu trong /proc dưới dạng một hệ thống file thư mục mô phỏng. Ví dụ thư mục con /proc/{pid} chứa các thông tin về tiến trình có ID là pid (pid ~ process ID). Ngoài ra đây cũng là nơi lưu thông tin về về các tài nguyên đang sử dụng của hệ thống như: /proc/version, /proc/uptime...

### **8. /var - File về biến của chương trình**

Thông tin về các biến của hệ thống được lưu trong thư mục này. Như thông tin về log file: /var/log, các gói và cơ sở dữ liệu /var/lib...

### **9. /usr - Chương trình của người dùng**

Chứa các thư viện, file thực thi, tài liệu hướng dẫn và mã nguồn cho chương trình chạy ở level 2 của hệ thống. Trong đó

- /usr/bin chứa các file thực thi của người dùng như: at, awk, cc, less... Nếu bạn không tìm thấy chúng trong /bin hãy tìm trong /usr/bin
- /usr/sbin chứa các file thực thi của hệ thống dưới quyền của admin như: atd, cron, sshd... Nếu bạn không tìm thấy chúng trong /sbin thì hãy tìm trong thư mục này.
- /usr/lib chứa các thư viện cho các chương trình trong /usr/bin và /usr/sbin
- /usr/local chứa các chương tình của người dùng được cài từ mã nguồn. Ví dụ như bạn cài apache từ mã nguồn, nó sẽ được lưu dưới /usr/local/apache2

### **10. /home - Thư mục người của dùng**

Thư mục này chứa tất cả các file cá nhân của từng người dùng. Ví dụ: /home/john, /home/marie

### **11. /boot - Các file khởi động**

Tất cả các file yêu cầu khi khởi động như initrd, vmlinux. grub được lưu tại đây. Ví dụ vmlixuz-2.6.32-24-generic

### **12. /lib - Thư viện hệ thống**

Chứa cá thư viện hỗ trợ cho các file thực thi trong /bin và /sbin. Các thư viện này thường có tên bắt đầu bằng ld* hoặc lib*.so.*. Ví dụ như ld-2.11.1.so hay libncurses.so.5.7

### **13. /opt - Các ứng dụng phụ tùy chọn**

Tên thư mục này nghĩa là optional (tùy chọn), nó chứa các ứng dụng thêm vào từ các nhà cung cấp độc lập khác. Các ứng dụng này có thể được cài ở /opt hoặc một thư mục con của /opt

### **14. /mnt - Thư mục để mount**

Đây là thư mục tạm để mount các file hệ thống. Ví dụ như # mount /dev/sda2 /mnt

### **15. /media - Các thiết bị gắn có thể gỡ bỏ**

Thư mục tạm này chứa các thiết bị như CdRom /media/cdrom. floppy /media/floopy hay các phân vùng đĩa cứng /media/Data (hiểu như là ổ D:/Data trong Windows)

### **16. /srv - Dữ liệu của các dịch vụ khác**

Chứa dữ liệu liên quan đến các dịch vụ máy chủ như /srv/svs, chứa các dữ liệu liên quan đến CVS.

sửa file với vim nano

tải tệp tin : wget + đường dẫn web

Truyền tệp từ máy chủ của bạn - SCP ( SSH ): 

scp important.txt kali@ip :/home/ubuntu/transferred.txt

scp kali@ip:/home/ubuntu/documents.txt notes.txt 

Cung cấp tệp từ máy chủ của bạn - WEB : python3 -m  http.server+port 

## Tiến trình

là các chương trình đang chạy trên máy của bạn. Chúng được quản lý bởi kernel, trong đó mỗi tiến trình sẽ có một ID liên kết với nó, còn được gọi là PID của nó . Giá trị PID tăng theo thứ tự bắt đầu quá trình. Tức là tiến trình thứ 60 sẽ có PID là 60.

- ps: xem tiến trình

- ps aux: xem tiến trình hệ thống
- top: xem với thời gian thực
- kill: dừng tiến trình
- pkill/killall -u username: tắt tất cả tiến trình của 1 user

Dưới đây là một số tín hiệu mà chúng ta có thể gửi đến một tiến trình khi nó bị tắt:

- SIGTERM - Hủy tiến trình nhưng cho phép nó thực hiện một số tác vụ dọn dẹp trước(-15)
- SIGKILL - Hủy quá trình - thực tế không thực hiện bất kỳ thao tác dọn dẹp nào(-9)
- SIGSTOP - Dừng/tạm dừng một tiến trình(-19)

Bắt đầu của 1 tiến trình

Hãy bắt đầu bằng cách nói về không gian tên. Hệ điều hành ( OS ) sử dụng các không gian tên để phân chia cuối cùng các tài nguyên có sẵn trên máy tính cho các quy trình (chẳng hạn như CPU, RAM và mức độ ưu tiên). 

Các quy trình trong phần đó sẽ có quyền truy cập vào một lượng sức mạnh tính toán nhất định, tuy nhiên, đó sẽ là một phần nhỏ của những gì thực sự có sẵn cho mọi quy trình nói chung.

Không gian tên rất tốt cho việc bảo mật vì đây là cách cô lập các tiến trình với một không gian khác -- chỉ những tiến trình trong cùng một không gian tên mới có thể nhìn thấy nhau.

Trước đây chúng ta đã nói về cách hoạt động của PID và đây là lúc nó phát huy tác dụng. Quá trình có ID là 0 là quá trình được bắt đầu khi hệ thống khởi động. Quá trình này là khởi tạo của hệ thống trên Ubuntu, chẳng hạn như **systemd** , được sử dụng để cung cấp cách quản lý các quy trình của người dùng và nằm giữa hệ điều hành và người dùng.

Bắt các tiến trình/dịch vụ khởi động khi khởi động 

- systemctl [option] [service]
- option( Start, Stop, Enable, Disable)

Backgrounding and Foregrounding trong Linux

 sử dụng &

fg :đưa một quy trình ở chế độ nền trước đó trở lại nền trước

## Tự động hóa

crontab -e

Crontab chỉ đơn giản là một tệp đặc biệt có định dạng được `cron`quy trình nhận dạng để thực thi từng dòng từng bước. Crontabs yêu cầu 6 giá trị cụ thể:

| MIN | Thực hiện vào phút nào |
| --- | --- |
| HOUR | Thực hiện lúc mấy giờ |
| DOM | Thực hiện vào ngày nào trong tháng |
| MON | Thực hiện vào tháng nào trong năm |
| DOW | Thực hiện vào tháng nào trong tuần |
| CMD | Lệnh thực tế sẽ được thực thi  |

Hãy sử dụng ví dụ về sao lưu tập tin. Bạn có thể muốn sao lưu "Tài liệu" của "cmnatic" cứ sau 12 giờ. Chúng tôi sẽ sử dụng định dạng sau:

`0 */12 * * * cp -R /home/cmnatic/Documents /var/backups/`

nhật kí ở /var/log

hai loại tệp nhật ký bên dưới được quan tâm:

- nhật ký truy cập
- nhật ký lỗi

## Windows Fundamentals

Hệ điều hành (OS) Windows là một sản phẩm phức tạp với nhiều tệp hệ thống, tiện ích, cài đặt, tính năng, v.v.

Được phát hành 1985 phổ biến trong cả mạng gia đình và mạng doanh nghiệp

Window 7,10 là 2 phiên bản được ưa chuộng nhất

Hệ điều hành Windows dành cho máy chủ là Windows Server 2019

Mã hóa BitLocker khả dụng trên các thiết bị được hỗ trợ chạy Windows 10 hoặc 11 Pro, Enterprise hoặc Education

- GUI
    
    Windows Desktop, hay gọi tắt là giao diện đồ họa người dùng hoặc GUI
    
    Sau khi vượt qua màn hình đăng nhập ( Nơi bạn cần nhập thông tin xác thực tài khoản hợp lệ); thông thường, tên người dùng và mật khẩu của tài khoản Windows có sẵn trên hệ thống cụ thể đó hoặc trong môi trường Active Directory (nếu đó là máy tham gia miền)).
    
    ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2046.png)
    
    Các tác vụ sau:
    
    1. The Desktop: Màn hình nền là nơi bạn sẽ có các phím tắt đến các chương trình, thư mục, tệp, v.v. 
    2. Start Menu: Menu Bắt đầu cung cấp quyền truy cập vào tất cả các ứng dụng/chương trình, tệp, công cụ tiện ích, v.v., hữu ích nhất. Các tác vụ quen thuộc 
    3. Search Box (Cortana): tìm kiếm các ứng dụng chương trình tệp, tiến ích ,… 
    4. Task View : xem các ứng dụng được mở tạo nhiều destop
    5. Taskbar: có thể để những ứng dụng tùy chọn hay sử dụng giúp vào trực tiếp tùy chọn nhanh chóng
    6. Toolbars:một điều khiển có chứa một hoặc nhiều nút. Mỗi nút, khi người dùng nhấp vào, sẽ gửi một thông báo lệnh đến cửa sổ chính. Thường do người dùng tự bổ xung
    7. Notification Area: Khu vực thông báo, thường nằm ở dưới cùng bên phải của màn hình Windows, là nơi hiển thị ngày và giờ. Các biểu tượng khác có thể hiển thị trong khu vực này là biểu tượng âm lượng, biểu tượng mạng/không dây, v.v.
    
- File, Folders
    - File
        
        **FAT16/FAT32** (Bảng phân bổ tệp) và **HPFS** (Hệ thống tệp hiệu suất cao).
        
        FAT thường được thấy các phân vùng  trong thiết bị USB, thẻ MicroSD, v.v.  nhưng theo truyền thống thì không thấy trên máy tính/máy tính xách tay Windows cá nhân hoặc máy chủ Windows.
        
        Hệ thống tệp tin phổ biến nhất hiện nay là  NTFS .NTFS được biết đến như một hệ thống tập tin ghi nhật ký. Trong trường hợp xảy ra lỗi, hệ thống tệp có thể tự động sửa chữa các thư mục/tệp trên đĩa bằng thông tin được lưu trong tệp nhật ký.
        
        NTFS giải quyết nhiều hạn chế của các hệ thống tệp trước đó; chẳng hạn như:
        
        - Hỗ trợ các tập tin lớn hơn 4GB
        - Đặt quyền cụ thể trên các thư mục và tệp
        - Nén thư mục và tập tin
        - Mã hóa ( [Hệ thống tệp mã hóa](https://docs.microsoft.com/en-us/windows/win32/fileio/file-encryption) hoặc **EFS**)
        
        Một tính năng khác của NTFS là **Luồng dữ liệu thay thế** ( **ADS** ).
        
        Luồng dữ liệu thay thế  (ADS) là một thuộc tính tệp dành riêng cho Windows  NTFS  (Hệ thống tệp công nghệ mới).
        
        Mỗi tệp có ít nhất một luồng dữ liệu ( `$DATA`) và ADS cho phép các tệp chứa nhiều luồng dữ liệu. Nguyên bản [Window Explorer](https://support.microsoft.com/en-us/windows/what-s-changed-in-file-explorer-ef370130-1cca-9dc5-e0df-2f7416fe1cb1) không hiển thị QUẢNG CÁO cho người dùng. Có các tệp thực thi của bên thứ 3 có thể được sử dụng để xem dữ liệu này, nhưng [Powershell](https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7.1) cung cấp cho bạn khả năng xem ADS cho các tệp.
        
        Từ góc độ bảo mật, người viết phần mềm độc hại đã sử dụng ADS để ẩn dữ liệu.
        
        Không phải tất cả các công dụng của nó đều độc hại. Ví dụ: khi bạn tải xuống một tệp từ Internet, có các mã nhận dạng được ghi vào ADS để xác định rằng tệp đó đã được tải xuống từ Internet.
        
        Các quyền của tệp tin và thư mục 
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2047.png)
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2048.png)
        
        Kiểm tra quyền chuột phải - Properties - Security - Group or user names
        
    - Folders
        
        Thư mục Windows ( `C:\Windows`) theo truyền thống được gọi là thư mục chứa hệ điều hành Windows
        
        Theo [Microsoft](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_environment_variables?view=powershell-7.1) , " *Biến môi trường lưu trữ thông tin về môi trường hệ điều hành. Thông tin này bao gồm các chi tiết như đường dẫn hệ điều hành, số lượng bộ xử lý được hệ điều hành sử dụng và vị trí của các thư mục tạm thời* ".
        
        Thư mục System32 chứa các tệp quan trọng quan trọng đối với hệ điều hành
        
        Biến hệ thống cho thư mục Windows là %windir%
        
    
- User Account
    
    Tài khoản người dùng có thể là một trong hai loại trên hệ thống Windows cục bộ điển hình:
    
    - **Administrator** có thể thực hiện các thay đổi đối với hệ thống: thêm người dùng, xóa người dùng, sửa đổi nhóm, sửa đổi cài đặt trên hệ thống, v.v.
    - **Standard User** chỉ có thể thực hiện các thay đổi đối với các thư mục/tệp được gán cho người dùng và không thể thực hiện các thay đổi ở cấp hệ thống, chẳng hạn như cài đặt chương trình.
    
    cách xác định người dùng tồn tại trong hệ thống ki tìm kiếm Other User 
    
    **Kiểm soát tài khoản người dùng** (UAC) 
    
    Khi người dùng có loại tài khoản quản trị viên đăng nhập vào hệ thống, phiên hiện tại sẽ không chạy với quyền nâng cao. Khi một thao tác yêu cầu đặc quyền cấp cao hơn cần được thực thi, người dùng sẽ được nhắc xác nhận xem họ có cho phép thao tác đó chạy hay không.
    
    Hãy xem chương trình trên tài khoản bạn hiện đang đăng nhập, tài khoản quản trị viên tích hợp—Nhấp chuột phải để xem Thuộc tính của nó
    
    Bạn có tên người dùng và mật khẩu cho người dùng chuẩn. Nó có thể nhìn thấy trong `lusrmgr.msc`.
    
    có thể thao tác cài đặt( UserAccountControlSetting.exe)
    
- Utilities
    
    Control Panel đã là nơi thường xuyên thực hiện các thay đổi trong hệ thống, chẳng hạn như thêm máy in, gỡ cài đặt chương trình, v.v. —> mở control.exe
    
    Task Manager cung cấp thông tin về các ứng dụng và quy trình hiện đang chạy trên hệ thống. Các thông tin khác cũng có sẵn, chẳng hạn như lượng CPU và RAM đang được sử dụng. →mở Ctrl+Shift+Esc
    
    - **System Configuration( `MSConfig`)**
        
        dành cho việc khắc phục sự cố nâng cao và mục đích chính của nó là giúp chẩn đoán các sự cố khởi động. 
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2049.png)
        
        Trong tab **General** , chúng ta có thể chọn những thiết bị và dịch vụ nào để Windows tải khi khởi động. Các tùy chọn là:**Normal**, **Diagnostic**, or **Selective**. 
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2050.png)
        
        Trong tab boot , chúng ta có thể xác định các tùy chọn khởi động khác nhau cho Hệ điều hành.
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2051.png)
        
        Tab service liệt kê tất cả các dịch vụ được định cấu hình cho hệ thống bất kể trạng thái của chúng (đang chạy hay đã dừng). Dịch vụ là một loại ứng dụng đặc biệt chạy ở chế độ nền
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2052.png)
        
        Trong tab startup , bạn sẽ không thấy điều gì thú vị trong VM được đính kèm. Dưới đây là ảnh chụp màn hình tab Khởi động cho **MSConfig** từ máy cục bộ của tôi. 
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2053.png)
        
        Tab tool danh sách các tiện ích (công cụ) khác nhau trong tab Công cụ mà chúng ta có thể chạy để cấu hình thêm hệ điều hành.
        
    - **Computer Management**
        - System Tools
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2054.png)
            
            - **Task Scheduler**
                
                Trình lập lịch tác vụ, chúng ta có thể tạo và quản lý các tác vụ phổ biến mà máy tính của chúng ta sẽ tự động thực hiện vào những thời điểm chúng ta chỉ định.
                
                Một tác vụ có thể chạy một ứng dụng, một tập lệnh, v.v. và các tác vụ có thể được cấu hình để chạy bất kỳ lúc nào. Một tác vụ có thể chạy lúc đăng nhập hoặc lúc đăng xuất. Các tác vụ cũng có thể được cấu hình để chạy theo một lịch trình cụ thể, chẳng hạn như cứ 5 phút một lần
                
            - **Event Viewer**
                
                Event Viewer cho phép chúng ta xem các sự kiện đã xảy ra trên máy tính. Những bản ghi sự kiện này có thể được xem như một dấu vết kiểm tra có thể được sử dụng để hiểu hoạt động của hệ thống máy tính. Thông tin này thường được sử dụng để chẩn đoán sự cố và điều tra các hành động được thực hiện trên hệ thống.
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2055.png)
                
                Trình xem sự kiện có ba ngăn.
                
                1. Khung bên trái cung cấp danh sách cây phân cấp của các nhà cung cấp nhật ký sự kiện. (như thể hiện trong hình trên)
                2. Khung ở giữa sẽ hiển thị tổng quan và tóm tắt chung về các sự kiện cụ thể đối với nhà cung cấp đã chọn.
                3. Khung bên phải là khung hành động.
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2056.png)
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2057.png)
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2058.png)
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2059.png)
                
            
            - **Shared Folders**
                
                nơi bạn sẽ thấy danh sách đầy đủ các chia sẻ và thư mục được chia sẻ mà người khác có thể kết nối. 
                
                ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2060.png)
                
            - **Local Users and Groups**
                
                
            - **Performance**
                
                Perfmon được sử dụng để xem dữ liệu hiệu suất theo thời gian thực hoặc từ tệp nhật ký. Tiện ích này rất hữu ích để khắc phục sự cố về hiệu suất trên hệ thống máy tính, dù là cục bộ hay từ xa. 
                
            - **Device Manager**
                
                 cho phép chúng ta xem và định cấu hình phần cứng, chẳng hạn như vô hiệu hóa mọi phần cứng được gắn vào máy tính.
                
        - Storage
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2061.png)
            
            Disk Management là một tiện ích hệ thống trong Windows cho phép bạn thực hiện các tác vụ lưu trữ nâng cao.  Một số nhiệm vụ là:
            
            - Thiết lập ổ đĩa mới
            - Mở rộng một phân vùng
            - Thu nhỏ một phân vùng
            - Gán hoặc thay đổi ký tự ổ đĩa (ví dụ: E :)
        - Services and Applications.
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2062.png)
            
            dịch  vụ là một loại ứng dụng đặc biệt chạy ở chế độ nền. Tại đây, bạn có thể làm nhiều việc hơn là bật và tắt một dịch vụ, chẳng hạn như xem Thuộc tính của dịch vụ. 
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2063.png)
            
            WMI Control cấu hình và điều khiển dịch vụ **Windows Management Instrumentation** ( WMI ).
            
            Theo Wikipedia, " *WMI cho phép các ngôn ngữ kịch bản (chẳng hạn như VBScript hoặc Windows PowerShell) quản lý máy chủ và máy tính cá nhân Microsoft Windows, cả cục bộ và từ xa. Microsoft cũng cung cấp giao diện dòng lệnh cho WMI được gọi là Dòng lệnh Công cụ Quản lý Windows (WMIC) .* "
            
    - **System Information** (`msinfo32`)
        
        *Windows bao gồm một công cụ có tên là Thông tin hệ thống Microsoft (Msinfo32.exe). Công cụ này thu thập thông tin về máy tính của bạn và hiển thị cái nhìn toàn diện về phần cứng, thành phần hệ thống và môi trường phần mềm mà bạn có thể sử dụng để chẩn đoán các sự cố máy tính.* "
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2064.png)
        
        Thông tin trong **Tóm tắt hệ thống** được chia thành ba phần:
        
        - **Tài nguyên phần cứng:** không dành cho người dùng máy tính thông thường
        - **Các thành phần:** bạn có thể xem thông tin cụ thể về các thiết bị phần cứng được cài đặt trên máy tính. Một số phần không hiển thị bất kỳ thông tin nào, nhưng một số phần thì có, chẳng hạn như **Display** và **input**
        - **Môi trường phần mềm:** bạn có thể xem thông tin về phần mềm được đưa vào hệ điều hành và phần mềm bạn đã cài đặt. Các chi tiết khác cũng được hiển thị trong phần này, chẳng hạn như **Biến môi trường(** **Environment Variables)** và **Kết nối mạng**
            - *Biến môi trường lưu trữ thông tin về môi trường hệ điều hành. Thông tin này bao gồm các chi tiết như đường dẫn hệ điều hành, số lượng bộ xử lý được hệ điều hành sử dụng và vị trí của các thư mục tạm thời.*
            - *Các biến môi trường lưu trữ dữ liệu được hệ điều hành và các chương trình khác sử dụng. Ví dụ: biến môi trường WINDIR chứa vị trí của thư mục cài đặt Windows. Các chương trình có thể truy vấn giá trị của biến này để xác định vị trí của các tệp hệ điều hành Windows* "
            - Một phương pháp khác để xem các biến môi trường là `Control Panel > System and Security > System > Advanced system settings > Environment Variables` **OR** `Settings > System > About > system info > Advanced system settings > Environment Variables`
        
    - **Resource Monitor** (`resmon`)
        
        Resource Monitor hiển thị thông tin sử dụng *CPU , bộ nhớ, đĩa và mạng trên mỗi quy trình và tổng hợp , ngoài việc cung cấp chi tiết về quy trình nào đang sử dụng các mô-đun và trình xử lý tệp riêng lẻ. Tính năng lọc nâng cao cho phép người dùng tách biệt dữ liệu liên quan đến một quy trình hoặc nhiều quy trình (ứng dụng hoặc dịch vụ), bắt đầu, dừng, tạm dừng và tiếp tục các dịch vụ cũng như đóng các ứng dụng không phản hồi khỏi giao diện người dùng. Nó cũng bao gồm tính năng phân tích quy trình có thể giúp xác định các quy trình bị bế tắc và xung đột khóa tệp để người dùng có thể cố gắng giải quyết xung đột thay vì đóng ứng dụng và có khả năng mất dữ liệu.* "
        
        Như một số công cụ khác được đề cập trong phần này, tiện ích này chủ yếu hướng đến những người dùng nâng cao cần thực hiện khắc phục sự cố nâng cao trên hệ thống máy tính.
        
        Trong tab Tổng quan, Resmon có bốn phần:
        
        - **CPU**
        - **Disk**
        - **Network**
        - **Memory**
    - **Registry Editor**
        
        cơ sở dữ liệu phân cấp trung tâm được sử dụng để lưu trữ thông tin cần thiết nhằm định cấu hình hệ thống cho một hoặc nhiều người dùng, ứng dụng và thiết bị phần cứng.
        
        Sổ đăng ký chứa thông tin mà Windows liên tục tham chiếu trong quá trình hoạt động, chẳng hạn như:
        
        - Hồ sơ cho mỗi người dùng
        - Các ứng dụng được cài đặt trên máy tính và các loại tài liệu mà mỗi ứng dụng có thể tạo
        - Cài đặt trang thuộc tính cho các thư mục và biểu tượng ứng dụng
        - Phần cứng nào tồn tại trên hệ thống
        - Các cổng đang được sử dụng.
        
        **Cảnh báo** : Sổ đăng ký dành cho người dùng máy tính nâng cao. Việc thay đổi sổ đăng ký có thể ảnh hưởng đến hoạt động bình thường của máy tính.
        
        Có nhiều cách khác nhau để xem/chỉnh sửa sổ đăng ký. Một cách là sử dụng **Trình chỉnh sửa Sổ đăng ký** ( `regedit`
        
- 1 số lệnh thông dụng cmd
    
    Dưới đây là một số lệnh thông dụng được sử dụng trong Command Prompt trên Windows:
    
    1. **dir**: Hiển thị danh sách các tệp và thư mục trong thư mục hiện tại.
    2. **cd**: Thay đổi thư mục làm việc hiện tại.
    3. **mkdir**: Tạo mới một thư mục.
    4. **rmdir**: Xóa một thư mục.
    5. **copy**: Sao chép tệp từ một vị trí đến một vị trí khác.
    6. **move**: Di chuyển tệp từ một vị trí đến một vị trí khác.
    7. **del**: Xóa một hoặc nhiều tệp.
    8. **ren**: Đổi tên một tệp hoặc thư mục.
    9. **cls**: Xóa màn hình.
    10. **ipconfig**: Hiển thị thông tin về cấu hình IP của máy tính.
    11. **ping**: Kiểm tra kết nối mạng bằng cách gửi gói tin đến một địa chỉ IP cụ thể.
    12. **netstat**: Hiển thị trạng thái của các kết nối mạng.
    13. **tasklist**: Liệt kê tất cả các tiến trình đang chạy.
    14. **taskkill**: Kết thúc một tiến trình đang chạy.
    15. **shutdown**: Tắt hoặc khởi động lại máy tính.
    16. **whoami** : tên của người dùng đã đăng nhập
    17. **hostname**: tên máy chủ sẽ xuất ra tên máy tính.
    
    sử dụng /? hoặc help mở trợ giúp các lệnh đó 
    
- Window Security
    - Windows Updates
        
        Windows Update là dịch vụ do Microsoft cung cấp nhằm cung cấp các bản cập nhật bảo mật, cải tiến tính năng và bản vá lỗi cho hệ điều hành Windows và các sản phẩm khác của Microsoft, chẳng hạn như Microsoft Defender.
        
        Các bản cập nhật thường được phát hành vào thứ Ba thứ 2 mỗi tháng. Ngày này được gọi là  **Patch Tuesday** . Điều đó không nhất thiết có nghĩa là một bản cập nhật/bản vá quan trọng phải đợi đến Bản vá thứ Ba tiếp theo được phát hành. Nếu bản cập nhật khẩn cấp thì Microsoft sẽ đẩy bản cập nhật qua dịch vụ Windows Update tới các thiết bị Windows
        
    - Windows Security
        
        ***Windows Security** là ngôi nhà để bạn quản lý các công cụ bảo vệ thiết bị và dữ liệu của bạn*
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2065.png)
        
        ãy tập trung sự chú ý của bạn vào **các khu vực Bảo vệ** .
        
        - **Bảo vệ chống virus và mối đe dọa**
        - **Tường lửa và bảo vệ mạng**
        - **Kiểm soát ứng dụng và trình duyệt**
        - **Bảo mật thiết bị**
        
        biểu tượng trạng thái.
        
        - **Màu xanh lá cây**
            
            có nghĩa là thiết bị của bạn được bảo vệ đầy đủ và không có bất kỳ hành động nào được đề xuất.
            
        - **Màu vàng**
            
            nghĩa là có khuyến nghị an toàn để bạn xem xét.
            
        - **Màu đỏ**
            
            là lời cảnh báo rằng có điều gì đó cần bạn chú ý ngay lập tức.
            
    - Virus & threat protection
        
        Bảo vệ chống vi-rút và mối đe dọa được chia thành hai phần:
        
        - **Các mối đe dọa hiện tại(Current threats)**
        - **Cài đặt bảo vệ chống vi-rút và mối đe dọa(Virus & threat protection settings)**
        - **Current threats**
            
            **Tùy chọn quét**
            
            - **Quét nhanh**
                
                - Kiểm tra các thư mục trong hệ thống của bạn nơi thường tìm thấy các mối đe dọa.
                
            - **Quét toàn bộ**
                
                - Kiểm tra tất cả các tệp và chương trình đang chạy trên đĩa cứng của bạn. Quá trình quét này có thể mất hơn một giờ.
                
            - **Quét tùy chỉnh**
                
                - Chọn tệp và vị trí bạn muốn kiểm tra.
                
            
            **Lịch sử mối đe dọa**
            
            - **Lần quét cuối cùng**
                
                - Tính năng Chống Virut của Bộ bảo vệ Windows tự động quét thiết bị của bạn để tìm vi-rút và các mối đe dọa khác nhằm giúp giữ an toàn cho thiết bị.
                
            - **Các mối đe dọa bị cách ly**
                
                - Các mối đe dọa bị cách ly đã bị cô lập và ngăn không cho chạy trên thiết bị của bạn. Chúng sẽ được loại bỏ định kỳ.
                
            - **Các mối đe dọa được phép**
                
                - Các mối đe dọa được phép là các mục được xác định là mối đe dọa mà bạn được phép chạy trên thiết bị của mình.
                
        - **Virus & threat protection settings**
            
            **Quản lý cài đặt**
            
            - **Bảo vệ thời gian thực**
                
                - Định vị và ngăn phần mềm độc hại cài đặt hoặc chạy trên thiết bị của bạn.
                
            - **Bảo vệ do đám mây cung cấp**
                
                - Cung cấp khả năng bảo vệ tăng cường và nhanh hơn với quyền truy cập vào dữ liệu bảo vệ mới nhất trên đám mây.
                
            - **Gửi mẫu tự động**
                
                - Gửi tệp mẫu tới Microsoft để giúp bảo vệ bạn và những người khác khỏi các mối đe dọa tiềm ẩn.
                
            - **Truy cập thư mục được kiểm soát**
                
                - Bảo vệ các tệp, thư mục và vùng bộ nhớ trên thiết bị của bạn khỏi những thay đổi trái phép bởi các ứng dụng không thân thiện.
                
            - **Loại trừ**
                
                - Tính năng Chống Virut của Bộ bảo vệ Windows sẽ không quét các mục mà bạn đã loại trừ.
                
            - **Thông báo**
                
                - Tính năng Chống Virut của Bộ bảo vệ Windows sẽ gửi thông báo kèm theo thông tin quan trọng về tình trạng và tính bảo mật của thiết bị của bạn.
                
            
            **Cập nhật bảo vệ chống vi-rút và mối đe dọa**
            
            - **Kiểm tra các bản cập nhật**
                
                - Kiểm tra các bản cập nhật theo cách thủ công để cập nhật định nghĩa Windows Defender Antivirus.
                
            
            **Bảo vệ khỏi phần mềm tống tiền**
            
            - **Quyền truy cập thư mục được kiểm soát**
                
                - Bảo vệ ransomware yêu cầu bật tính năng này, do đó yêu cầu bật tính năng bảo vệ theo thời gian thực.
                
    - Firewall & network protection
        
        *Lưu lượng truy cập vào và ra khỏi thiết bị thông qua cái mà chúng tôi gọi là cổng. Tường lửa là thứ kiểm soát những gì được - và quan trọng hơn là không - được phép đi qua các cổng đó. Bạn có thể coi nó giống như một nhân viên bảo vệ đứng ở cửa, kiểm tra ID của mọi thứ cố gắng vào hoặc ra* "
        
        *Tường lửa Windows cung cấp ba cấu hình tường lửa: miền, riêng tư và công cộng".*
        
        - **Miền***Cấu hình miền áp dụng cho các mạng nơi hệ thống máy chủ có thể xác thực với bộ điều khiển miền.*
        - **Riêng tư***Hồ sơ riêng tư là hồ sơ do người dùng chỉ định và được sử dụng để chỉ định mạng riêng hoặc mạng gia đình.*
        - **Công khai***Hồ sơ mặc định là hồ sơ công khai, được sử dụng để chỉ định các mạng công cộng như điểm truy cập Wi-Fi tại quán cà phê, sân bay và các địa điểm khác.*
    - App & browser control
        
        *Microsoft Defender SmartScreen bảo vệ chống lại các trang web và ứng dụng lừa đảo hoặc phần mềm độc hại cũng như việc tải xuống các tệp có khả năng độc hại* ".
        
        **Kiểm tra ứng dụng và tập tin**
        
        - **SmartScreen của Bộ bảo vệ Windows**
            
            giúp bảo vệ thiết bị của bạn bằng cách kiểm tra các ứng dụng và tệp không được nhận dạng từ web
            
        
        **Bảo vệ khai thác**
        
        - Tính năng chống khai thác được tích hợp vào Windows 10 (và trong trường hợp của chúng tôi là Windows Server 2019) để giúp bảo vệ thiết bị của bạn khỏi các cuộc tấn công.
        
    - Device security
        
        **Cách ly lõi**
        
        - **Tính toàn vẹn của bộ nhớ**
            
            - Ngăn chặn các cuộc tấn công chèn mã độc vào các quy trình có tính bảo mật cao
            
            ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2066.png)
            
        
        **Bộ xử lý bảo mật**
        
        ![Untitled](Pre%20Security%2031b50d20069d4eb0a7769631897c9e08/Untitled%2067.png)
        
        Theo Microsoft, " *Công nghệ Mô-đun nền tảng đáng tin cậy (TPM) được thiết kế để cung cấp các chức năng liên quan đến bảo mật, dựa trên phần cứng. Chip TPM là bộ xử lý mật mã an toàn được thiết kế để thực hiện các hoạt động mã hóa. Chip này bao gồm nhiều cơ chế bảo mật vật lý để làm cho nó có khả năng chống giả mạo và phần mềm độc hại không thể giả mạo các chức năng bảo mật của TPM* ".
        
    - BitLocker
        
        *Mã hóa ổ đĩa BitLocker là một tính năng bảo vệ dữ liệu tích hợp với hệ điều hành và giải quyết các mối đe dọa đánh cắp hoặc lộ dữ liệu từ các máy tính bị mất, bị đánh cắp hoặc ngừng hoạt động không thích hợp* ".
        
        Trên các thiết bị đã cài đặt TPM, BitLocker mang lại khả năng bảo vệ tốt nhất.
        
        Theo Microsoft, " *BitLocker cung cấp khả năng bảo vệ tốt nhất khi được sử dụng với Mô-đun nền tảng đáng tin cậy (TPM) phiên bản 1.2 trở lên. TPM là một thành phần phần cứng được các nhà sản xuất máy tính cài đặt trong nhiều máy tính mới hơn. Nó hoạt động với BitLocker để giúp bảo vệ dữ liệu người dùng và để đảm bảo rằng máy tính không bị giả mạo khi hệ thống ngoại tuyến* ".
        
    - Volume Shadow Copy Service
        
        Dịch vụ sao chép bóng ổ đĩa  (VSS) điều phối các hành động cần thiết để tạo bản sao bóng nhất quán (còn được gọi là ảnh chụp nhanh hoặc bản sao tại thời điểm) của dữ liệu cần sao lưu.
        
        Bản sao bóng ổ đĩa được lưu trữ trên thư mục Thông tin ổ đĩa hệ thống trên mỗi ổ đĩa đã bật tính năng bảo vệ.
        
        Nếu VSS được bật ( Đã bật **Bảo vệ hệ thống ), bạn có thể thực hiện các tác vụ sau từ trong cài đặt hệ thống nâng cao** .
        
        - **Tạo điểm khôi phục**
        - **Thực hiện khôi phục hệ thống**
        - **Định cấu hình cài đặt khôi phục**
        - **Xóa điểm khôi phục**
        
        Từ góc độ bảo mật,  người viết phần mềm độc hại biết tính năng này của Windows và viết mã vào phần mềm độc hại của họ để tìm kiếm các tệp này và xóa chúng. Làm như vậy sẽ khiến bạn không thể phục hồi sau cuộc tấn công bằng ransomware trừ khi bạn có bản sao lưu ngoại tuyến/ngoài trang web